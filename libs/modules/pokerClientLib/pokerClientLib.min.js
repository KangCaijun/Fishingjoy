/*!
 * PokerClientLib - compressed JS
 * @licence PokerClientLib - v0.0.0 (2018-08-01)
 *  qq:1042933914 | Licence: gepan
 */
function createMultiDimensionArray(a){if(0==a.length)return null;var b=new Array(a[0]);if(a.length>1)for(var c=a.slice(1),d=0;d<b.length;d++)b[d]=createMultiDimensionArray(c);return b}var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.RedEnvelopeConfig"},a}();a.RedEnvelopeConfig=b}(table||(table={}));var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.RedEnvelopeControlconfig"},a}();a.RedEnvelopeControlconfig=b}(table||(table={}));var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.RedEnvelopeNumberConfig"},a}();a.RedEnvelopeNumberConfig=b}(table||(table={}));var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.TableCoreResources"},a}();a.TableCoreResources=b}(table||(table={}));var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.TableCreateConfigList"},a}();a.TableCreateConfigList=b;var b;!function(a){var b=function(){function a(){}return a}();a.UserNbrItem=b}(b=a.TableCreateConfigList||(a.TableCreateConfigList={}));var b;!function(a){var b=function(){function a(){}return a}();a.EnterLimitItem=b}(b=a.TableCreateConfigList||(a.TableCreateConfigList={}));var b;!function(a){var b=function(){function a(){}return a}();a.CreateLimitItem=b}(b=a.TableCreateConfigList||(a.TableCreateConfigList={}));var b;!function(a){var b=function(){function a(){}return a}();a.PlayTypeItem=b}(b=a.TableCreateConfigList||(a.TableCreateConfigList={}));var b;!function(a){var b=function(){function a(){}return a}();a.GameNbrItem=b}(b=a.TableCreateConfigList||(a.TableCreateConfigList={}));var b;!function(a){var b=function(){function a(){}return a}();a.PayTypeItem=b}(b=a.TableCreateConfigList||(a.TableCreateConfigList={}));var b;!function(a){var b=function(){function a(){}return a}();a.HostTipItem=b}(b=a.TableCreateConfigList||(a.TableCreateConfigList={}));var b;!function(a){var b=function(){function a(){}return a}();a.OutTimeItem=b}(b=a.TableCreateConfigList||(a.TableCreateConfigList={}))}(table||(table={}));var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.TableEventConfig"},a}();a.TableEventConfig=b;var b;!function(a){var b=function(){function a(){}return a}();a.RewardItem=b}(b=a.TableEventConfig||(a.TableEventConfig={}))}(table||(table={}));var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.TableExchangeConfig"},a}();a.TableExchangeConfig=b}(table||(table={}));var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.TableGameControl"},a}();a.TableGameControl=b}(table||(table={}));var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.TableGoodsConfig"},a}();a.TableGoodsConfig=b;var b;!function(a){var b=function(){function a(){}return a}();a.GiftGoodsItem=b}(b=a.TableGoodsConfig||(a.TableGoodsConfig={}))}(table||(table={}));var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.TableLanguage"},a}();a.TableLanguage=b}(table||(table={}));var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.TableLobbyGameList"},a}();a.TableLobbyGameList=b;var b;!function(a){var b=function(){function a(){}return a}();a.ExerciseListItem=b}(b=a.TableLobbyGameList||(a.TableLobbyGameList={}));var b;!function(a){!function(a){var b=function(){function a(){}return a}();a.GameListItem=b}(a.ExerciseListItem||(a.ExerciseListItem={}))}(b=a.TableLobbyGameList||(a.TableLobbyGameList={}));var b;!function(a){var b=function(){function a(){}return a}();a.ExerciseLabelListItem=b}(b=a.TableLobbyGameList||(a.TableLobbyGameList={}));var b;!function(a){!function(a){var b=function(){function a(){}return a}();a.GameListItem=b}(a.ExerciseLabelListItem||(a.ExerciseLabelListItem={}))}(b=a.TableLobbyGameList||(a.TableLobbyGameList={}))}(table||(table={}));var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.TableMahjongVipConfig"},a}();a.TableMahjongVipConfig=b}(table||(table={}));var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.TableOfficalEventConfig"},a}();a.TableOfficalEventConfig=b;var b;!function(a){var b=function(){function a(){}return a}();a.RewardItem=b}(b=a.TableOfficalEventConfig||(a.TableOfficalEventConfig={}));var b;!function(a){var b=function(){function a(){}return a}();a.WeekRewardItem=b}(b=a.TableOfficalEventConfig||(a.TableOfficalEventConfig={}));var b;!function(a){var b=function(){function a(){}return a}();a.MonthRewardItem=b}(b=a.TableOfficalEventConfig||(a.TableOfficalEventConfig={}))}(table||(table={}));var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.TableRewardItemConfig"},a}();a.TableRewardItemConfig=b}(table||(table={}));var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.TableRoomCostConfig"},a}();a.TableRoomCostConfig=b}(table||(table={}));var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.TableShopConfig"},a}();a.TableShopConfig=b;var b;!function(a){var b=function(){function a(){}return a}();a.ShopGoodsItem=b}(b=a.TableShopConfig||(a.TableShopConfig={}));var b;!function(a){var b=function(){function a(){}return a}();a.FirstShopGoodsItem=b}(b=a.TableShopConfig||(a.TableShopConfig={}))}(table||(table={}));var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.TableShopSetConfig"},a}();a.TableShopSetConfig=b}(table||(table={}));var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.TableTexasSNG"},a}();a.TableTexasSNG=b}(table||(table={}));var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.gameList"},a}();a.gameList=b}(table||(table={}));var table;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"table.TablePokerCard"},a}();a.TablePokerCard=b}(table||(table={}));var GX;!function(a){var b=function(){function a(){}return a}(),c=function(){function a(){this.m_avatarList={},this.m_storageKey="m_storageKey"}return a.prototype.add=function(a){null!=a&&(this.m_avatarList[a.url]=a)},a.prototype.find=function(a){return this.m_avatarList[a]},a.prototype.sava=function(){},a.prototype.load=function(){this.m_avatarList||(this.m_avatarList={})},a}(),d=function(){function a(){}return a.prototype.load=function(a,b,c){this.url=a,this.loadComplete=b,this.thisArg=c,this.imageLoader=new egret.ImageLoader,this.imageLoader.addEventListener(egret.Event.COMPLETE,this.onComplete,this),this.imageLoader.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onIOError,this),this.imageLoader.load(a)},a.prototype.onComplete=function(a){this.loadComplete.call(this.thisArg,this.imageLoader.data,this.url),this.destroy()},a.prototype.onIOError=function(){this.loadComplete.call(this.thisArg),this.destroy()},a.prototype.destroy=function(){this.imageLoader&&(this.imageLoader.removeEventListener(egret.Event.COMPLETE,this.onComplete,this),this.imageLoader.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onIOError,this),this.imageLoader=null)},a}(),e=function(){function e(){}return e.read=function(c,f,g,h){if(void 0===h&&(h=a.RESStyle.Rect),null!=c)if(a.isPathRooted(c)){var i=e.avatarList.find(c);if(i){var j=i.rect;return h!=a.RESStyle.Rect&&(j=i.circle?i.circle:a.Utils.getStyleTextureBuyBitmapData(i.rect,h)),f.call(g,j,c)}var k=e.loading[c];if(k)return void k.push({loadComplete:f,thisObject:g});k=[],k.push({loadComplete:f,thisObject:g}),e.loading[c]=k,(new d).load(c,function(c,d){var f=e.loading[d],g=c;if(h!=a.RESStyle.Rect&&(g=a.Utils.getStyleTextureBuyBitmapData(c,h)),null!=f){for(var i=0,j=f;i<j.length;i++){var k=j[i];k.loadComplete.call(k.thisObject,g,d)}if(e.loading[d]=null,null!=c){var l=new b;l.url=d,l.rect=c,l.circle=h==a.RESStyle.Circular?g:null,e.avatarList.add(l),e.avatarList.sava()}}},this)}else if(RES.hasRes(c)){var l=RES.getRes(c);l?f.call(g,a.Utils.getStyleTexture(c,h),c):a.Utils.getStyleTextureAsync(c,f,g,h)}},e.cache=!0,e.avatarList=new c,e.loading={},e}();a.AvatarManager=e}(GX||(GX={}));var GX;!function(a){var b=function(){function a(a,b){this.action=a,this.self=b}return a.prototype.call=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return this.apply(a)},a.prototype.apply=function(a){if(null!=this.action)return this.action.apply(this.self,a)},a}();a.SinglecastEvent=b;var c=function(){function a(){}return a.prototype.add=function(a){null==this.eventList&&(this.eventList=[]),this.eventList.push(a)},a.prototype.clear=function(){this.eventList.clear()},a.prototype.removeAll=function(){this.removeAllEvent()},a.prototype.removeAllEvent=function(){for(var a=0,b=this.eventList;a<b.length;a++){b[a].removeAll()}},a}();a.Event=c;var d=function(){function a(){a.EventList.add(this)}return a.prototype.call=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return this.apply(a)},a.prototype.apply=function(a){var b=this.length;if(0!=b){if(1==b){var c=this.list[0];return void c.apply(a)}for(var d=0,e=this.list.clone();d<e.length;d++){var c=e[d];c.apply(a)}}},a.prototype.add=function(a,c){return null==a?a:(null==this.list&&(this.list=[]),this.list.seek(function(b){return b.action==a&&b.self==c})?a:(this.list.push(new b(a,c)),a))},a.prototype.remove=function(a,b){return void 0===b&&(b=-1),"function"==typeof a&&null!=this.list&&this.list.removeFirst(function(c){return c.action===a&&(-1==b||c.self==b)})},a.prototype.removeOn=function(a){return null==this.list?0:this.list.removeAll(function(b){return b.self==a})},a.prototype.removeAll=function(){this.list=null},Object.defineProperty(a.prototype,"length",{get:function(){return null==this.list?0:this.list.length},enumerable:!0,configurable:!0}),a.EventList=new c,a}();a.MulticastEvent=d}(GX||(GX={})),Array.prototype.first||(Array.prototype.first=function(a){if("function"==typeof a)for(var b=0;b<this.length;b++){var c=this[b];if(a(c,b,this))return c}else if(this.length>0)return this[0];return null}),Array.prototype.last||(Array.prototype.last=function(a){if("function"==typeof a)for(var b=this.length-1;b>=0;b--){var c=this[b];if(a(c,b,this))return c}else if(this.length>0)return this[this.length-1];return null}),Array.prototype.random||(Array.prototype.random=function(){return 0==this.length?null:this[Math.randomInteger(0,this.length-1)]}),Array.prototype.remove||(Array.prototype.remove=function(a,b){var c=this.indexOf(a,b);return!(c<0)&&(this.splice(c,1),!0)}),Array.prototype.removeAt||(Array.prototype.removeAt=function(a){return!(a<0||a>=this.length)&&(this.splice(a,1),!0)}),Array.prototype.removeFirst||(Array.prototype.removeFirst=function(a,b){if(null==a)return!1;if(null==b)b=0;else if(b<0||b>=this.length)return!1;for(var c=b;c<this.length;c++)if(a(this[c],c))return this.splice(c,1),!0;return!1}),Array.prototype.removeAll||(Array.prototype.removeAll=function(a,b){if(null==b&&(b=0),b<0||b>=this.length)return 0;if(null==a){var c=this.length;return this.splice(b,this.length),c-this.length}for(var d=0,e=this.length-1;e>=b;e--)a(this[e],e)&&(this.splice(e,1),d++);return d}),Array.prototype.clear||(Array.prototype.clear=function(){this.splice(0,this.length)}),Array.prototype.clone||(Array.prototype.clone=function(){return this.slice(0)}),Array.create||(Array.create=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return createMultiDimensionArray(a)}),Array.prototype.seek=function(a){if(null==a)return!1;for(var b=0,c=this;b<c.length;b++){if(a(c[b]))return!0}return!1},Array.prototype.first=function(a){if(null==a)return this[0];for(var b=0,c=this;b<c.length;b++){var d=c[b];if(a(d))return d}return null},Array.prototype.find=function(a){if(null==a)return-1;for(var b=0;b<this.length;b++)if(a(this[b]))return b;return-1},Array.prototype.deletefirst=function(a){if(null==a)return-1;for(var b=0;b<this.length;b++)if(a(this[b]))return this.splice(b,1),b;return-1},Array.prototype.last=function(a){return this instanceof Array?this[this.length-1]:null},Array.prototype.random=function(){var a=this.length-1;return this[Math.randomInteger(0,a)]},Array.prototype.randomItems=function(a){for(var b=this.length-1,c=Math.randomIntegers(0,b,a),d=new Array,e=0,f=c;e<f.length;e++){var g=f[e];d.push(this[g])}return d},Array.prototype.distinct=function(){for(var a={},b=[],c=0;c<this.length;c++)a[this[c]]||(a[this[c]]=!0,b.push(this[c]));return b},Array.prototype.deepcopy=function(){return this.slice(0)},Array.prototype.reverse||(Array.prototype.reverse=function(){for(var a=[],b=this.length,c=0;c<b;c++)a.unshift(this[c]);return a});var GX;!function(a){function b(a){return"string"!=typeof a||0==a.length}function c(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"==b?c:3&c|8).toString(16)})}function d(a){return(new md5).hex_md5(a)}function e(){return Date.now||(Date.now=function(){return(new Date).getTime()}),Date.now()/1e3|0}function f(a){var b=a.lastIndexOf(".");return-1==b?"":a.substring(b)}function g(a){var b=a.lastIndexOf("/");return-1==b?"":a.substring(0,b)}function h(a){var b=a.lastIndexOf("/");return-1==b?a:a.substring(b+1)}function i(a){var b=h(a),c=b.lastIndexOf(".");return-1==c?b:b.substring(0,c)}function j(a){return a.startsWith("http://")||a.startsWith("https://")}function k(a,b){if(void 0===b&&(b=v.ALL),null==a)return"";a=10==a.toString().length?1e3*a:a;var c=new Date(a),d=c.getFullYear(),e=(c.getMonth()+1).toString().padLeft(2,"0"),f=c.getDate().toString().padLeft(2,"0"),g=c.getHours().toString().padLeft(2,"0"),h=c.getMinutes().toString().padLeft(2,"0"),i=c.getSeconds().toString().padLeft(2,"0");return b==v.HM?g+":"+h:b==v.HMS?g+":"+h+":"+i:d+"-"+e+"-"+f+" "+g+":"+h+":"+i}function l(b){if(null!=b){if((b=Math.floor(100*b)/100)<1e5)return m(a.numToFixed(b,2));if(b<1e7){var c=b/1e3;return m(a.numToFixed(c,2))+"K"}var d=b/1e6;return m(a.numToFixed(d,2))+"M"}}function m(a){var b=parseInt(a).toString(),c=(a+"").split(".")[1],d=b.length;if(d<=3)return b+(Number(c)>0?"."+c:"");var e=d%3;return(e>0?b.slice(0,e)+","+b.slice(e,d).match(/\d{3}/g).join(","):b.slice(e,d).match(/\d{3}/g).join(","))+(Number(c)>0?"."+c:"")}function n(a,b){void 0===b&&(b=2);var c=Math.pow(10,b);a*=c,a=Math.floor(a);for(var d=Math.floor(a/c),e=a%c,f=e+"",g=f.length,h=g;h<b;h++)f="0"+f;return 0==f.length?d+"":d+"."+f}function o(a,b){var c=a.x,d=a.y,e=b.x,f=b.y,g=Math.abs(c-e),h=Math.abs(d-f),i=Math.sqrt(Math.pow(g,2)+Math.pow(h,2)),j=h/i,k=Math.acos(j),l=Math.floor(180/(Math.PI/k));return e>c&&f>d&&(l=180-l),e==c&&f>d&&(l=180),e>c&&f==d&&(l=90),e<c&&f>d&&(l=180+l),e<c&&f==d&&(l=270),e<c&&f<d&&(l=360-l),l}function p(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)}function q(a){return a*Math.PI/180}function r(a){return 180*a/Math.PI}function s(a){return a>270?4:a>180?3:a>90?2:1}function t(b,c){var d=a.getQuadrantByRadian(c),e=1==d||2==d?uniLib.Global.screenWidth:0,f=2==d||3==d?uniLib.Global.screenHeight:0,g=a.getRadian(c),h=Math.abs(e-b.x),i=Math.abs(h/Math.sin(g)*Math.cos(g)),j=Math.abs(f-b.y),k=Math.abs(j/Math.cos(g)*Math.sin(g));if(i<j){var l=1==d||4==d?b.y-i:b.y+i,m=void 0;return 1==d?m=360-c:2==d?m=360-c:3==d?m=360-c:4==d&&(m=360-c),{x:e,y:l,angle:m}}if(k<h){var n=1==d||2==d?b.x+k:b.x-k,m=void 0;return 1==d?m=180-c:2==d?m=180-c:3==d?m=360-(c-180):4==d&&(m=360-c+180),{x:n,y:f,angle:m}}}function u(a){try{if("object"==typeof JSON.parse(a))return!0}catch(a){}return!1}!function(a){a[a.ALL=1]="ALL",a[a.HM=2]="HM",a[a.HMS=3]="HMS",a[a.MS=4]="MS"}(a.TimeFormat||(a.TimeFormat={}));var v=a.TimeFormat;!function(a){a[a.Rect=1]="Rect",a[a.Circular=2]="Circular",a[a.RoundRect=3]="RoundRect"}(a.RESStyle||(a.RESStyle={}));a.RESStyle;a.stringIsNullOrEmpty=b,a.generateUUID=c,a.MD5=d,a.unixTimestamp=e,a.getExtension=f,a.getDirectoryName=g,a.getFileName=h,a.getFileNameWithoutExtension=i,a.isPathRooted=j,a.timestampToString=k,a.GoldFormat=l,a.toEnInLocaleString=m,a.numToFixed=n,a.getRadianByPoint=o,a.getDistanceByPoint=p,a.getRadian=q,a.getAngle=r,a.getQuadrantByRadian=s,a.getBorderPoint=t,a.isJsonString=u}(GX||(GX={})),Math.randomFloat||(Math.randomFloat=function(a,b){return b>a&&(b=b),a+Math.random()*(b-a)}),Math.randomInteger||(Math.randomInteger=function(a,b){return b>a&&(b=b),b=Math.round(a),Math.round(b),a+Math.floor(Math.random()*(b-a+1))}),Math.clamp||(Math.clamp=function(a,b,c){return null==a?b:a<b?b:a>c?c:a}),Math.randomInteger=function(a,b){var c=b-a+1;return Math.floor(Math.random()*c+a)},Math.randomIntegers=function(a,b,c){if(!(b-a+1<c)){for(var d=b-a+1,e=new Array,f=0;f<c;f++){for(var g=!1,h=Math.floor(Math.random()*d+a),i=0,j=e;i<j.length;i++){if(j[i]==h){g=!0,f--;break}}g||e.push(h)}return e}},Math.boolFromPercentage=function(a){return Math.random()<a},Number.prototype.percentage=function(){return(null!=this?this:0)/100};var GX;!function(a){var b=function(){function a(a){this.seed=a,this.seed||0==this.seed||(this.seed=(new Date).getTime())}return Object.defineProperty(a.prototype,"value",{get:function(){return this.range(0,1)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"insideUnitCircle",{get:function(){var a=this.range(0,360),b=this.range(0,1),c=b*Math.cos(a*Math.PI/180),d=b*Math.sin(a*Math.PI/180);return new egret.Point(c,d)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"onUnitCircle",{get:function(){var a=this.range(0,360),b=Math.cos(a*Math.PI/180),c=Math.sin(a*Math.PI/180);return new egret.Point(b,c)},enumerable:!0,configurable:!0}),a.prototype.range=function(a,b){return this.seed||0==this.seed||(this.seed=(new Date).getTime()),b=b||1,a=a||0,this.seed=(9301*this.seed+49297)%233280,a+this.seed/233280*(b-a)},Object.defineProperty(a,"value",{get:function(){return this.range(0,1)},enumerable:!0,configurable:!0}),Object.defineProperty(a,"insideUnitCircle",{get:function(){var a=this.range(0,360),b=this.range(0,1),c=b*Math.cos(a*Math.PI/180),d=b*Math.sin(a*Math.PI/180);return new egret.Point(c,d)},enumerable:!0,configurable:!0}),Object.defineProperty(a,"onUnitCircle",{get:function(){var a=this.range(0,360),b=Math.cos(a*Math.PI/180),c=Math.sin(a*Math.PI/180);return new egret.Point(b,c)},enumerable:!0,configurable:!0}),a.range=function(a,b){return this.seed||0==this.seed||(this.seed=(new Date).getTime()),b=b||1,a=a||0,this.seed=(9301*this.seed+49297)%233280,a+this.seed/233280*(b-a)},a}();a.Random=b}(GX||(GX={})),String.prototype.format||(String.prototype.format=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];var c=arguments;return this.replace(/{(\d+)}/g,function(a,b){return void 0!==c[b]?c[b]:a})}),String.prototype.padLeft||(String.prototype.padLeft=function(a,b){"string"==typeof b&&1==b.length||(b=" ");for(var c="";c.length+this.length<a;)c+=b;return c+this}),String.prototype.padRight||(String.prototype.padRight=function(a,b){"string"==typeof b&&1==b.length||(b=" ");for(var c="";c.length+this.length<a;)c+=b;return this+c}),String.prototype.startsWith||(String.prototype.startsWith=function(a){if(null==this||null==a)return!1;if(0==a.length)return!0;if(this.length<a.length)return!1;for(var b=0;b<a.length;b++)if(this[b]!=a[b])return!1;return!0}),String.prototype.endsWith||(String.prototype.endsWith=function(a){if(null==this||null==a)return!1;if(0==a.length)return!0;if(this.length<a.length)return!1;for(var b=0;b<a.length;b++)if(this[this.length-1-b]!=a[a.length-1-b])return!1;return!0}),String.prototype.trimEnd||(String.prototype.trimEnd=function(){return uniLib.StringUtils.rtrim(this)}),String.prototype.trimStart||(String.prototype.trimStart=function(){return uniLib.StringUtils.ltrim(this)}),String.prototype.padLeft=function(a,b){return null!=b?this.PadHelper(a,b,!1):this.PadHelper(a," ",!1)},String.prototype.PadHelper=function(a,b,c){if(this.length<a){for(var d=new String,e=1;e<=a-this.length;e++)d+=b;return c?this+d:d+this}return this},uniLib.DragonUtils.createDragonBoneAnimation||(uniLib.DragonUtils.createDragonBoneAnimation=function(a,b){var c=dragonBones.EgretFactory.factory;if(null==c.getDragonBonesData(a)){var d=RES.getRes(a+"_ske_json"),e=RES.getRes(a+"_tex_json"),f=RES.getRes(a+"_tex_png");c.parseDragonBonesData(d,a),c.parseTextureAtlasData(e,f)}return c.buildArmatureDisplay(null==b?"armatureName":b,a)});var GX;!function(a){function b(a,b,c,d,e,f,g){void 0===f&&(f=!1),void 0===g&&(g=2);var h=new dragonBones.EgretFactory,i=RES.getRes(a+"_ske_json"),j=RES.getRes(a+"_tex_json"),k=RES.getRes(a+"_tex_png");h.parseDragonBonesData(i,a),h.parseTextureAtlasData(j,k);var l=h.buildArmature(null==b?"armatureName":b);return uniLib.SetUniDragonTimeout(c,l,d,e,g,f)}a.createUniDragon=b}(GX||(GX={}));var GX;!function(a){var b=function(){function a(){}return a.readCommon=function(b,c,d,e){if(null!=b){if(b=a.urlRoot+b,RES.hasRes(b)){var f=RES.getRes(b);return void(f?c.call(d,f,b):RES.getResAsync(b,c,d))}this.loadByUrl(b,c,d,e)}},a.loadByUrl=function(a,b,c,d){var e=null!=d?d:this.getTypeByUrl(a);RES.getResByUrl(a,b,c,e)},a.readCommonPokerCard=function(b,c,d,e,f,g){var h=this;if(null!=b&&null!=c&&null!=d){b=a.urlRoot+b;var i=b+c;this.loadByUrl(i,function(a){null==a&&e.call(f,null,i);var c=a.first(function(a){return a.thisId==d});null==c&&e.call(f,null,i);var j=1==c.point?14:c.point;j=2==j?16:j;var k=b+"common_Poker_"+c.suit+"_"+j.toString().padLeft(2,"0")+".png";h.loadByUrl(k,e,f,g)},f,g)}},a.getTypeByUrl=function(a){var b=a.substr(a.lastIndexOf(".")+1);b&&(b=b.toLowerCase());var c;switch(b){case RES.ResourceItem.TYPE_JSON:c=RES.ResourceItem.TYPE_JSON;break;case RES.ResourceItem.TYPE_SHEET:c=RES.ResourceItem.TYPE_SHEET;break;case"fnt":c=RES.ResourceItem.TYPE_FONT;break;case"txt":case"exml":c=RES.ResourceItem.TYPE_TEXT;break;case RES.ResourceItem.TYPE_XML:case"tmx":c=RES.ResourceItem.TYPE_XML;break;case"png":case"jpg":case"gif":case"jpeg":case"bmp":c=RES.ResourceItem.TYPE_IMAGE;break;case"mp3":case"ogg":case"mpeg":case"wav":case"m4a":case"mp4":case"aiff":case"wma":case"mid":c=RES.ResourceItem.TYPE_SOUND;break;default:c=RES.ResourceItem.TYPE_BIN}return c},a.urlRoot="http://112.90.61.227/juxian/commonRes/",a}();a.ResManager=b}(GX||(GX={}));var GX;!function(a){!function(a){function b(a,b,c,d,e,f){void 0===c&&(c=300),void 0===d&&(d=0),void 0===e&&(e=null),void 0===f&&(f=egret.Ease.circOut);var g={x:a.x,y:a.y};return null!=e&&(void 0!=e.x&&(g.x=e.x),void 0!=e.y&&(g.y=e.y)),egret.Tween.get(a).wait(d).set(g).to({x:b.x,y:b.y},c,f)}function c(a,b,c,d,e,f){void 0===c&&(c=300),void 0===d&&(d=0),void 0===e&&(e=null),void 0===f&&(f=egret.Ease.getPowIn(2));var g={x:a.x,y:a.y};return null!=e&&(void 0!=e.x&&(g.x=e.x),void 0!=e.y&&(g.y=e.y)),egret.Tween.get(a).wait(d).set(g).to({x:b.x,y:b.y},c,f)}a.ChipflyTo=b,a.ChipflyBack=c}(a.Effect||(a.Effect={}))}(GX||(GX={}));var GX;!function(a){var b=function(){function a(){}return a.removeUI=function(a){a&&a.parent&&a.parent.removeChild(a)},Object.defineProperty(a,"sceneLayer",{get:function(){return this.m_sceneLayer},set:function(a){this.m_sceneLayer=a,this.m_sceneLayer.name="sceneLayer"},enumerable:!0,configurable:!0}),a.addUIToScene=function(a){this.m_sceneLayer&&this.m_sceneLayer.addChild(a)},Object.defineProperty(a,"mainLayer",{get:function(){return this.m_mainLayer},set:function(a){this.m_mainLayer=a,this.m_mainLayer.name="mainLayer"},enumerable:!0,configurable:!0}),a.addUIToMain=function(a){this.m_mainLayer&&this.m_mainLayer.addChild(a)},Object.defineProperty(a,"effectLayer",{get:function(){return this.m_effectLayer},set:function(a){this.m_effectLayer=a,this.m_effectLayer.name="effectLayer"},enumerable:!0,configurable:!0}),a.addUIToEffect=function(a){this.m_effectLayer&&this.m_effectLayer.addChild(a)},Object.defineProperty(a,"popLayer",{get:function(){return this.m_popLayer},set:function(a){this.m_popLayer=a,this.m_popLayer.name="popLayer"},enumerable:!0,configurable:!0}),a.addUIToPop=function(a){this.m_popLayer&&this.m_popLayer.addChild(a)},Object.defineProperty(a,"maskLayer",{get:function(){return this.m_maskLayer},set:function(a){this.m_maskLayer=a,this.m_maskLayer.name="maskLayer"},enumerable:!0,configurable:!0}),a.addUIToMask=function(a){this.m_maskLayer&&this.m_maskLayer.addChild(a)},Object.defineProperty(a,"loadLayer",{get:function(){return this.m_loadLayer},set:function(a){this.m_loadLayer=a,this.m_loadLayer.name="loadLayer"},enumerable:!0,configurable:!0}),a.addUIToLoad=function(a){this.m_loadLayer&&this.m_loadLayer.addChild(a)},a.m_loadLayer=new egret.DisplayObjectContainer,a}();a.GameLayerManager=b}(GX||(GX={}));var GameLayerManager=function(){function a(){this.m_loadLayer=new egret.DisplayObjectContainer}return Object.defineProperty(a,"Instance",{get:function(){return this._instance||(this._instance=new a),this._instance},enumerable:!0,configurable:!0}),a.prototype.removeUI=function(a){a&&a.parent&&a.parent.parent.removeChild(a)},Object.defineProperty(a.prototype,"sceneLayer",{get:function(){return this.m_sceneLayer},set:function(a){this.m_sceneLayer=a,this.m_sceneLayer.name="sceneLayer"},enumerable:!0,configurable:!0}),a.prototype.addUIToSceneLayer=function(a){this.m_sceneLayer&&this.m_sceneLayer.addChild(a)},Object.defineProperty(a.prototype,"mainLayer",{get:function(){return this.m_mainLayer},set:function(a){this.m_mainLayer=a,this.m_mainLayer.name="mainLayer"},enumerable:!0,configurable:!0}),a.prototype.addUIToMainLayer=function(a){this.m_mainLayer&&this.m_mainLayer.addChild(a)},Object.defineProperty(a.prototype,"popLayer",{get:function(){return this.m_popLayer},set:function(a){this.m_popLayer=a,this.m_popLayer.name="popLayer"},enumerable:!0,configurable:!0}),a.prototype.addUIToPopLayer=function(a){this.m_popLayer&&this.m_popLayer.addChild(a)},Object.defineProperty(a.prototype,"effectLayer",{get:function(){return this.m_effectLayer},set:function(a){this.m_effectLayer=a,this.m_effectLayer.name="effectLayer"},enumerable:!0,configurable:!0}),a.prototype.addUIToEffectLayer=function(a){this.m_effectLayer&&this.m_effectLayer.addChild(a)},Object.defineProperty(a.prototype,"maskLayer",{get:function(){return this.m_maskLayer},set:function(a){this.m_maskLayer=a,this.m_maskLayer.name="maskLayer"},enumerable:!0,configurable:!0}),a.prototype.addUIToMaskLayer=function(a){this.m_maskLayer&&this.m_maskLayer.addChild(a)},Object.defineProperty(a.prototype,"loadLayer",{get:function(){return this.m_loadLayer},set:function(a){this.m_loadLayer=a,this.m_loadLayer.name="loadLayer"},enumerable:!0,configurable:!0}),a.prototype.addUIToLoadLayer=function(a){this.m_loadLayer&&this.m_loadLayer.addChild(a)},a}(),GX;!function(a){!function(c){function d(d,e,g,h,i){if(void 0===e&&(e=!1),void 0===g&&(g=b.NOMAL),!a.GameLayerManager.popLayer.contains(d)){var j=d.width,k=d.height,l=0==d.scaleX?1:d.scaleX,m=0==d.scaleY?1:d.scaleY;if(d.x=0,d.y=0,d.alpha=1,e){var n=c.DarkPops.first(function(a){return a.relyPanel==d});if(null==n){n=new f,n.relyPanel=d;var o=new egret.Sprite;o.graphics.clear(),o.graphics.beginFill(0,null==i?.3:i),o.graphics.drawRect(0,0,uniLib.Global.screenWidth,uniLib.Global.screenHeight),o.graphics.endFill(),o.width=uniLib.Global.screenWidth,o.height=uniLib.Global.screenHeight,n.darkSprite=o,c.DarkPops.push(n)}a.GameLayerManager.popLayer.contains(n.darkSprite)||a.GameLayerManager.popLayer.addChild(n.darkSprite),n.darkSprite.touchEnabled=!0,egret.Tween.get(n.darkSprite).to({alpha:1},150),n.darkSprite.visible=!0}a.GameLayerManager.popLayer.addChild(d),d.x=uniLib.Global.screenWidth/2-j/2,d.y=uniLib.Global.screenHeight/2-k/2;uniLib.Global.screenWidth,uniLib.Global.screenHeight;switch(egret.Tween.removeTweens(d),g){case 0:break;case 1:d.alpha=0,d.scaleX=.5,d.scaleY=.5,d.x=d.x+j/4,d.y=d.y+k/4,h?egret.Tween.get(d).to({alpha:1,scaleX:l,scaleY:m,x:d.x-j/4,y:d.y-k/4},300,egret.Ease.backOut).call(h):egret.Tween.get(d).to({alpha:1,scaleX:l,scaleY:m,x:d.x-j/4,y:d.y-k/4},300,egret.Ease.backOut);break;case 2:d.alpha=0,d.scaleX=.5,d.scaleY=.5,d.x=d.x+j/4,d.y=d.y+k/4,h?egret.Tween.get(d).to({alpha:1,scaleX:l,scaleY:m,x:d.x-j/4,y:d.y-k/4},600,egret.Ease.elasticOut).call(h):egret.Tween.get(d).to({alpha:1,scaleX:l,scaleY:m,x:d.x-j/4,y:d.y-k/4},600,egret.Ease.elasticOut);break;case 3:d.x=-j,h?egret.Tween.get(d).to({x:0},300,egret.Ease.cubicOut).call(h):egret.Tween.get(d).to({x:0},300,egret.Ease.cubicOut);break;case 4:d.x=j,h?egret.Tween.get(d).to({x:0},300,egret.Ease.cubicOut).call(h):egret.Tween.get(d).to({x:0},300,egret.Ease.cubicOut);break;case 5:d.y=-k,h?egret.Tween.get(d).to({y:0},300,egret.Ease.cubicOut).call(h):egret.Tween.get(d).to({y:0},300,egret.Ease.cubicOut);break;case 6:d.y=k,h?egret.Tween.get(d).to({y:0},300,egret.Ease.cubicOut).call(h):egret.Tween.get(d).to({y:0},300,egret.Ease.cubicOut)}}}function e(d,e,f){switch(void 0===e&&(e=b.NOMAL),function(){var b=c.DarkPops.first(function(a){return a.relyPanel==d});null!=b&&(a.GameLayerManager.popLayer.contains(b.darkSprite)&&a.GameLayerManager.popLayer.removeChild(b.darkSprite),c.DarkPops.remove(b))}(),egret.Tween.removeTweens(d),e){case 0:break;case 1:f?egret.Tween.get(d).to({alpha:0,scaleX:0,scaleY:0,x:d.x+d.width/2,y:d.y+d.height/2},300).call(f):egret.Tween.get(d).to({alpha:0,scaleX:0,scaleY:0,x:d.x+d.width/2,y:d.y+d.height/2},300);break;case 2:break;case 3:f?egret.Tween.get(d).to({x:d.width},300,egret.Ease.cubicOut).call(f):egret.Tween.get(d).to({x:d.width},300,egret.Ease.cubicOut);break;case 4:f?egret.Tween.get(d).to({x:-d.width},300,egret.Ease.cubicOut).call(f):egret.Tween.get(d).to({x:-d.width},300,egret.Ease.cubicOut);break;case 5:f?egret.Tween.get(d).to({y:d.height},300,egret.Ease.cubicOut).call(f):egret.Tween.get(d).to({y:d.height},300,egret.Ease.cubicOut);break;case 6:f?egret.Tween.get(d).to({y:-d.height},300,egret.Ease.cubicOut).call(f):egret.Tween.get(d).to({y:-d.height},300,egret.Ease.cubicOut)}var g=300;0==e&&(g=0),egret.setTimeout(function(){a.GameLayerManager.popLayer.contains(d)&&a.GameLayerManager.popLayer.removeChild(d)},this,g)}var f=function(){function a(){}return a}();c.DarkPop=f,c.DarkPops=[],c.addPopUp=d,c.removePopUp=e}(a.PopUpManager||(a.PopUpManager={})),function(a){a[a.NOMAL=0]="NOMAL",a[a.CENTER=1]="CENTER",a[a.CENTER_S=2]="CENTER_S",a[a.LEFT=3]="LEFT",a[a.RIGHT=4]="RIGHT",a[a.TOP=5]="TOP",a[a.BOTTOM=6]="BOTTOM"}(a.PopUpEffect||(a.PopUpEffect={}));var b=a.PopUpEffect}(GX||(GX={}));var PopUpManager;!function(a){function b(b,c,f){if(void 0===c&&(c=!1),void 0===f&&(f=e.NOMAL),!GameLayerManager.Instance.popLayer.contains(b)){var g=b.width,h=b.height;if(b.scaleX=1,b.scaleY=1,b.x=0,b.y=0,b.alpha=1,c){var i=a.DarkPops.first(function(a){return a.relyPanel==b});if(null==i){i=new d,i.relyPanel=b;var j=new egret.Sprite;j.graphics.clear(),j.graphics.beginFill(0,.3),j.graphics.drawRect(0,0,uniLib.Global.screenWidth,uniLib.Global.screenHeight),j.graphics.endFill(),j.width=uniLib.Global.screenWidth,j.height=uniLib.Global.screenHeight,i.darkSprite=j,a.DarkPops.push(i)}GameLayerManager.Instance.popLayer.contains(i.darkSprite)||GameLayerManager.Instance.popLayer.addChild(i.darkSprite),i.darkSprite.touchEnabled=!0,egret.Tween.get(i.darkSprite).to({alpha:1},150),i.darkSprite.visible=!0}GameLayerManager.Instance.popLayer.addChild(b),b.x=uniLib.Global.screenWidth/2-g/2,b.y=uniLib.Global.screenHeight/2-h/2;uniLib.Global.screenWidth,uniLib.Global.screenHeight;switch(egret.Tween.removeTweens(b),f){case 0:break;case 1:b.alpha=0,b.scaleX=.5,b.scaleY=.5,b.x=b.x+g/4,b.y=b.y+h/4,egret.Tween.get(b).to({alpha:1,scaleX:1,scaleY:1,x:b.x-g/4,y:b.y-h/4},300,egret.Ease.backOut);break;case 2:b.alpha=0,b.scaleX=.5,b.scaleY=.5,b.x=b.x+g/4,b.y=b.y+h/4,egret.Tween.get(b).to({alpha:1,scaleX:1,scaleY:1,x:b.x-g/4,y:b.y-h/4},600,egret.Ease.elasticOut);break;case 3:b.x=-g,egret.Tween.get(b).to({x:0},300,egret.Ease.cubicOut);break;case 4:b.x=g,egret.Tween.get(b).to({x:0},300,egret.Ease.cubicOut);break;case 5:b.y=-h,egret.Tween.get(b).to({y:0},300,egret.Ease.cubicOut);break;case 6:b.y=h,egret.Tween.get(b).to({y:0},300,egret.Ease.cubicOut)}}}function c(b,c){switch(void 0===c&&(c=e.NOMAL),function(){var c=a.DarkPops.first(function(a){return a.relyPanel==b});null!=c&&(GameLayerManager.Instance.popLayer.contains(c.darkSprite)&&GameLayerManager.Instance.popLayer.removeChild(c.darkSprite),a.DarkPops.remove(c))}(),egret.Tween.removeTweens(b),c){case 0:break;case 1:egret.Tween.get(b).to({alpha:0,scaleX:0,scaleY:0,x:b.x+b.width/2,y:b.y+b.height/2},300);break;case 2:break;case 3:egret.Tween.get(b).to({x:b.width},300,egret.Ease.cubicOut);break;case 4:egret.Tween.get(b).to({x:-b.width},300,egret.Ease.cubicOut);break;case 5:egret.Tween.get(b).to({y:b.height},300,egret.Ease.cubicOut);break;case 6:egret.Tween.get(b).to({y:-b.height},300,egret.Ease.cubicOut)}var d=300;0==c&&(d=0),egret.setTimeout(function(){GameLayerManager.Instance.popLayer.contains(b)&&GameLayerManager.Instance.popLayer.removeChild(b)},this,d)}var d=function(){function a(){}return a}();a.DarkPop=d,a.DarkPops=[],a.addPopUp=b,a.removePopUp=c,function(a){a[a.NOMAL=0]="NOMAL",a[a.CENTER=1]="CENTER",a[a.CENTER_S=2]="CENTER_S",a[a.LEFT=3]="LEFT",a[a.RIGHT=4]="RIGHT",a[a.TOP=5]="TOP",a[a.BOTTOM=6]="BOTTOM"}(a.PopUpEffect||(a.PopUpEffect={}));var e=a.PopUpEffect}(PopUpManager||(PopUpManager={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},GX;!function(a){!function(b){function c(c,d,e,f,g,h,i,j,k,l){null==b.PopupClass&&(b.PopupClass=a.Tips.Popup);var m=new b.PopupClass(c,d,e,f,g,h,i,j);return m.x=(uniLib.Global.screenWidth-m.width)/2,m.y=(uniLib.Global.screenHeight-m.height)/2,a.PopUpManager.addPopUp(m,l,k),m}function d(){return uniLib.Global.screenHeight/2-120}function e(c){for(var e=d(),g=f.length,h=e-g*i.MinHeight,j=0;j<g;j++){var k=f[j];egret.Tween.get(k).to({y:h+i.MinHeight*j},300)}null==b.TipsClass&&(b.TipsClass=a.Tips.Tips);var l=new b.TipsClass(c);return l.x=(uniLib.Global.screenWidth-l.width)/2,l.y=e,f.push(l),egret.Tween.get(l).wait(300).call(function(){a.GameLayerManager.addUIToPop(l)}).wait(2e3).to({alpha:.5},500).call(function(){a.GameLayerManager.removeUI(l),f.remove(l)}),l}b.showPopup=c;var f=[];b.showTips=e;var g=function(a){function b(b,c,d,e,f,g,h,i){a.call(this)}return __extends(b,a),b}(eui.Component);b.BasePopup=g;var h=function(b){function c(d,e,f,g,h,i,j,k){var l=this;b.call(this,d,e,f,g,h,i,j,k),this.skinName=c.exml,this.titleLabel.text=i||"温馨提示",this.msgLabel.text=d||"",this.confirmFunc=e,this.cancelFunc=f,this.thisObject=g,this.confirmButton.label=j||"确定",this.cancelButton.label=j||"取消",game.Language.open&&(this.confirmButton.label=game.Language.Translate(this.confirmButton.label),this.cancelButton.label=game.Language.Translate(this.cancelButton.label),this.titleLabel.text=game.Language.Translate(this.titleLabel.text)),h||this.cancelButton.parent.removeChild(this.cancelButton),this.addUIListener(),a.ResManager.readCommon("common/common2.png",function(a){l.bgImage.texture=a},this),a.ResManager.readCommon("common/common3.png",function(a){l.confirmButton.iconDisplay.texture=a},this),a.ResManager.readCommon("common/common3.png",function(a){l.cancelButton.iconDisplay.texture=a},this)}return __extends(c,b),c.prototype.setMsgLabel=function(a){this.msgLabel.text=a},c.prototype.destroy=function(){this.removeUIListener(),this.thisObject=null,this.cancelFunc=null,this.confirmFunc=null},c.prototype.addUIListener=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTap,this)},c.prototype.removeUIListener=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTap,this)},c.prototype.onClickTap=function(b){var c=b.target;c==this.confirmButton?(this.confirmFunc&&this.confirmFunc.call(this.thisObject),a.PopUpManager.removePopUp(this),this.destroy()):c==this.cancelButton&&(this.cancelFunc&&this.cancelFunc.call(this.thisObject),a.PopUpManager.removePopUp(this),this.destroy())},c.exml='\n            <?xml version=\'1.0\' encoding=\'utf-8\'?>\n            <e:Skin class="LibPopupSkin" xmlns:e="http://ns.egret.com/eui" xmlns:w="http://ns.egret.com/wing">\n                <e:Image id="bgImage" y="0" scale9Grid="8,7,42,43" x="0"/>\n                <e:Label id="titleLabel" textColor="0xFFFFFF" size="36" fontFamily="Arial" wordWrap="false" text="温馨提示" textAlign="center" verticalAlign="middle" width="430" y="-1" x="-3" height="96"/>\n                <e:Group width="399" height="185" y="97" anchorOffsetY="0" x="13">\n                    <e:Label id="msgLabel" size="30" width="338" horizontalCenter="0" verticalCenter="0" textAlign="center" fontFamily="Arial" textColor="0x000000"/>\n                </e:Group>\n                <e:Group id="buttonGroup" width="426" height="55" y="301" anchorOffsetX="0" anchorOffsetY="0" x="0">\n                    <e:Button id="cancelButton" y="-4" width="150" x="40" scaleX="1" scaleY="1" label="取消">\n                        <e:skinName>\n                        <e:Skin states="up,down,disabled">\n                            <e:Image id="iconDisplay" width="100%" height="100%" source="panel_ok"/>\n                            <e:Label id="labelDisplay" size="30" horizontalCenter="0" verticalCenter="0"/>\n                        </e:Skin>\n                        </e:skinName>\n                    </e:Button>\n                    <e:Button id="confirmButton" label="确定" y="19.5" width="150" x="235" scaleX="1" scaleY="1">\n                        <e:skinName>\n                        <e:Skin states="up,down,disabled">\n                            <e:Image id="iconDisplay" width="100%" height="100%" source="panel_ok"/>\n                            <e:Label id="labelDisplay" size="30" horizontalCenter="0" verticalCenter="0"/>\n                        </e:Skin>\n                        </e:skinName>\n                    </e:Button>\n                    <e:layout>\n                        <e:HorizontalLayout gap="100" horizontalAlign="center"/>\n                    </e:layout>\n                </e:Group>\n            </e:Skin>',c}(g);b.Popup=h;var i=function(b){function c(d){var e=this;b.call(this),this.touchEnabled=!1,this.touchChildren=!1;var f=new eui.Image;this.bgImage=f,f.minWidth=c.MinWidth,f.minHeight=c.MinHeight,this.width=c.MinWidth,this.height=c.MinHeight,this.addChild(f),this.label=new eui.Label,this.label.text=d,this.addChild(this.label),this.label.x=(this.width-this.label.width)/2,this.label.y=(this.height-this.label.height)/2,a.ResManager.readCommon("common/common1.png",function(a){f.texture=a;var b=e.label.width+40,d=e.label.height;f.width=b>c.MinWidth?b:c.MinWidth,f.height=d>c.MinHeight?d:c.MinHeight,f.x=(e.width-f.width)/2,f.y=(e.height-f.height)/2},this)}return __extends(c,b),c.MinWidth=400,c.MinHeight=40,c}(egret.Sprite);b.Tips=i}(a.Tips||(a.Tips={}))}(GX||(GX={}));var GX;!function(a){var b=function(){function b(){}return b.GetByteString=function(a,b){if(null!=a){for(var c="",d=0,e=0;e<a.length;e++){if(null!=a[e].match(/[^\x00-\xff]/gi)?d+=2:d+=1,d>b){c+="...";break}c+=a[e]}return c}},b.FormatTime=function(b,c){return void 0===c&&(c=a.TimeFormat.ALL),a.timestampToString(b,c)},b.DecimalToBinaryString=function(a,b){if(!a)return"".padLeft(b,"0");for(var c="";a>1;)c+=a%2,a=Math.floor(a/2);c+=a;for(var d="",e=c.length-1;e>-1;e--)d+=c[e];return d.length!=b&&(d=d.padLeft(b,"0")),d},b.DecimalToBinaryBool=function(a,c){for(var d=b.DecimalToBinaryString(a,c),e=new Array,f=0,g=d;f<g.length;f++){"1"==g[f]?e.push(!0):e.push(!1)}return e},b.SecondsToString=function(b,c){if(void 0===c&&(c=a.TimeFormat.MS),null==b||NaN==b)return"00:00";if(c==a.TimeFormat.MS){var d=(Math.floor(b/60)+"").padLeft(2,"0"),e=(Math.floor(b%60)+"").padLeft(2,"0");return d+":"+e}if(c==a.TimeFormat.HMS){var f=Math.floor(b/3600);b-=3600*f;var d=Math.floor(b/60),e=b-60*d;return(f+"").padLeft(2,"0")+":"+(d+"").padLeft(2,"0")+":"+(e+"").padLeft(2,"0")}},b.getStyleTextureBuyBitmapData=function(b,c){if(void 0===c&&(c=a.RESStyle.Rect),b){if(c==a.RESStyle.Rect)return b;var d=b.width,e=b.height,f=d>e?e:d,g=new egret.DisplayObjectContainer,h=new egret.Texture;h.bitmapData=b;var i=new egret.Bitmap(h);g.addChild(i);var j=new egret.Shape;j.graphics.beginFill(255),i.mask=j,g.addChild(j),j.touchEnabled=!1;var k=new egret.RenderTexture;return c==a.RESStyle.Circular?(j.graphics.drawCircle(d/2,e/2,f/2),j.graphics.endFill(),k.drawToTexture(g,new egret.Rectangle((d-f)/2,(e-f)/2,f,f))):c==a.RESStyle.RoundRect&&(j.graphics.drawRoundRect(0,0,d,e,d/5,e/5),j.graphics.endFill(),k.drawToTexture(g,new egret.Rectangle(0,0,d,e))),k}},b.getStyleTexture=function(b,c){void 0===c&&(c=a.RESStyle.Rect);var d=RES.getRes(b);return this.getStyleTextureBuyBitmapData(d)},b.getStyleTextureAsync=function(b,c,d,e){var f=this;void 0===e&&(e=a.RESStyle.Rect),RES.hasRes(b)&&RES.getResAsync(b,function(a,e){c.call(d,f.getStyleTextureBuyBitmapData(a),b)},this)},b}();a.Utils=b}(GX||(GX={}));var game;!function(a){var b=function(){function a(){this.cardChanged=new GX.MulticastEvent,this.cardKeyChange=new GX.MulticastEvent,this.bankerChanged=new GX.MulticastEvent,this.multipleChanged=new GX.MulticastEvent}return Object.defineProperty(a,"Instance",{get:function(){return null==this.m_Instance&&(this.m_Instance=new a),this.m_Instance},enumerable:!0,configurable:!0}),a.clearInstance=function(){this.m_Instance=null},Object.defineProperty(a.prototype,"cardList",{get:function(){return this.m_cardList},set:function(a){a&&a instanceof Array&&(this.m_cardList=a,this.cardChanged.call())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"cardType",{get:function(){return this.m_cardType},set:function(a){this.m_cardType=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"cardKey",{get:function(){return this.m_cardKey},set:function(a){a&&a instanceof Array||(this.m_cardKey=null),this.m_cardKey=a,this.cardKeyChange.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"banker",{get:function(){return this._banker},set:function(a){this._banker=a,this.bankerChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"multiple",{get:function(){return this.m_multiple},set:function(a){this.m_multiple=a,this.multipleChanged.call(this)},enumerable:!0,configurable:!0}),a}();a.BankerData=b}(game||(game={}));var game;!function(a){var b=function(){function a(){}return a.InteractiveSoundName=null,a.IsFormatName=!0,a.GameSeatNumber=null,a.SeatGame=!0,a.BetTimeout=0,a.PublicGoldFont=null,a}();a.Config=b}(game||(game={}));var game;!function(a){var b=function(){function a(){}return a.setData=function(a,b){return this.customData[a]=b},a.getData=function(a){return this.customData[a]},a.clearData=function(a){delete this.customData[a]},a.clearAll=function(a){this.customData={}},Object.defineProperty(a,"tagList",{get:function(){return this._tagList},set:function(a){this._tagList=a},enumerable:!0,configurable:!0}),a.customData={},a.collectionList=[],a}();a.CustomData=b;var b;!function(a){a.FinalResult="FinalResult",a.ShopPanel="ShopPanel",a.PlaybackPanel="PlaybackPanel"}(b=a.CustomData||(a.CustomData={}))}(game||(game={}));var game;!function(a){var b=function(){function b(){}return Object.defineProperty(b,"MainSeat",{get:function(){return b.GetSeatDataByUid(uniLib.NetMgr.UID)},enumerable:!0,configurable:!0}),Object.defineProperty(b,"MainSeatId",{get:function(){var b=a.RoomData.Instance.seatList,c=b.first(function(a){return a.user&&a.user.uid==uniLib.NetMgr.UID});return null==c?null:c.seatId},enumerable:!0,configurable:!0}),b.GetSeatDataByUid=function(b){return a.RoomData.Instance.seatList.first(function(a){return a.user&&a.user.uid==b})},b.GetSeatDataBySeatId=function(b){return a.RoomData.Instance.seatList.first(function(a){return a.seatId==b})},b.GetUserInfoBySeatId=function(b){if(null==b)return null;var c=a.RoomData.Instance.seatList,d=c.first(function(a){return a.seatId==b});return null==d?null:d.user},b.GetUserInfoByUid=function(c){var d=b.GetSeatDataByUid(c);return null==d?a.RoomData.Instance.audienceList.first(function(a){return a.uid==c}):d.user},b.GetAudienceByUid=function(a){return this.GetUserInfoByUid(a)},b.GetUserByUid=function(a){return this.GetUserInfoByUid(a)},Object.defineProperty(b,"MainUser",{get:function(){var a=uniLib.NetMgr.UID,c=b.GetSeatDataByUid(a);return null==c?b.GetAudienceByUid(a):c.user},enumerable:!0,configurable:!0}),b.IsSitDown=function(a){return!!b.GetUserInfoByUid(a)},Object.defineProperty(b,"IsSitDownMain",{get:function(){return b.IsSitDown(uniLib.NetMgr.UID)},enumerable:!0,configurable:!0}),Object.defineProperty(b,"BankerUid",{get:function(){var b=a.BankerData.Instance.banker;return b?b.uid:null},enumerable:!0,configurable:!0}),b.tcpSend=function(b){if(GX.PokerEvent.Instance.tcpSendEvent.call(b),!a.PokerData.isStandAlone&&1!=a.RoomInfo.getInstance().video){var c=uniLib.NetMgr.ws;c&&c.isConnected&&uniLib.NetMgr.tcpSend(b);var d=b.GetType();if("Cmd.ClientEchoRoomCmd_SC"==d||"Cmd.PlayCardCmd_CS"==d)uniLib.Global.lastPingUpTimestamp=Date.now();else if("Cmd.BetRoomCmd_CS"==d){Cmd.betTimeoutTipsPanel&&Cmd.betTimeoutTipsPanel.close();var e=a.RoomData.Instance.level,f=RES.getRes("TableBaseRuleConfigList_json");if(null==f)return;var g=f.first(function(a){return a.level==e});if(null==g)return;var h=b.bet?b.bet.chips:null;if(null==h)return;var i=g.betPointList[h-1],j=a.PokerFunction.MainUser;if(null==j)return;i>j.point&&uniLib.Global.dispatchEvent(uniLib.CustomEvent.Auto_BuyGold,{type:1,value:i})}}},b.exitGame=function(){a.GameFunction.exitGame()},b.FormatTime=function(a){return GX.Utils.FormatTime(a)},b.BitToString=function(a,b){return GX.Utils.DecimalToBinaryString(a,b)},b.BitToArray=function(a,b){return GX.Utils.DecimalToBinaryBool(a,b)},b}();a.PokerFunction=b}(game||(game={}));var game;!function(a){var b=function(){function a(a){this.chipsSumChanged=new GX.MulticastEvent,this.chipsMainChanged=new GX.MulticastEvent,this.playMainAnimation=new GX.MulticastEvent,this.playAllAnimation=new GX.MulticastEvent,this.cardChanged=new GX.MulticastEvent,this.cardKeyChange=new GX.MulticastEvent,this.multipleChanged=new GX.MulticastEvent,this.m_doorId=a,this.m_chipSum=0,this.m_chipMain=0}return Object.defineProperty(a.prototype,"doorId",{get:function(){return this.m_doorId},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"chipSum",{get:function(){return this.m_chipSum=this.m_chipSum},set:function(a){a=null==a?0:a,this.m_chipSum=a,this.chipsSumChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"chipMain",{get:function(){return null==this.m_chipMain?0:this.m_chipMain},set:function(a){a=null==a?0:a,this.m_chipMain=a,this.chipsMainChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"cardList",{get:function(){return this.m_cardList},set:function(a){a&&a instanceof Array&&(this.m_cardList=a,this.cardChanged.call(a))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"cardKey",{get:function(){return this.m_cardKey},set:function(a){a&&a instanceof Array||(this.m_cardKey=null),this.m_cardKey=a,this.cardKeyChange.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"cardType",{get:function(){return this.m_cardType},set:function(a){this.m_cardType=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"multiple",{get:function(){return this.m_multiple},set:function(a){this.m_multiple=a,this.multipleChanged.call(this)},enumerable:!0,configurable:!0}),a}();a.DoorData=b}(game||(game={}));var game;!function(a){function b(a){return a==Cmd.CardSetType.CardSetType_TexasHighCard?"高牌":a==Cmd.CardSetType.CardSetType_TexasOnePair?"一对":a==Cmd.CardSetType.CardSetType_TexasTwoPairs?"两对":a==Cmd.CardSetType.CardSetType_TexasThreeOfKind?"三条":a==Cmd.CardSetType.CardSetType_TexasStraight?"顺子":a==Cmd.CardSetType.CardSetType_TexasFlush?"同花":a==Cmd.CardSetType.CardSetType_TexasFullHouse?"葫芦":a==Cmd.CardSetType.CardSetType_TexasFourOfKind?"四条":a==Cmd.CardSetType.CardSetType_TexasStraightFlush?"同花顺":a==Cmd.CardSetType.CardSetType_TexasRoyalFlush?"皇家同花顺":""}function c(a){return a==Cmd.Operation.Allin?"ALL":a==Cmd.Operation.Raise?"R":a==Cmd.Operation.Check?"C":a==Cmd.Operation.Fold?"F":a==Cmd.Operation.Call?"X":a==Cmd.Operation.SmallBlind?"SB":a==Cmd.Operation.BigBlind?"BB":void 0}function d(){var b=a.DataCache&&a.DataCache.gameInfo?a.DataCache.gameInfo.gameId:null;if(b)return b;if(uniLib.Global.isH5){var c=uniLib.BrowersUtils.GetRequest("gameid");if(c&&""!=c)return Number(c)}var d=RES.getRes("config_json");return b=d?d.GameID:null}function e(b,c){if(null!=b){var d=a.Config.PublicGoldFont;d?b.font=d:c&&(b.font=c)}}a.cardTypeToString=b,a.opetrateToString=c,a.GameId=d,a.SetPublicFont=e}(game||(game={}));var game;!function(a){var b=function(){function a(){}return Object.defineProperty(a,"Instance",{get:function(){return null==this.m_Instance&&(this.m_Instance=new a),this.m_Instance},enumerable:!0,configurable:!0}),a.clearInstance=function(){this.m_Instance=null},Object.defineProperty(a.prototype,"playList",{get:function(){return this.m_playList},set:function(a){this.m_playList=a&&a instanceof Array?a:[]},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"smallblind",{get:function(){return a.getSmallblind(this.m_playList)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"seatNum",{get:function(){return a.getSeatNum(this.m_playList)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"ante",{get:function(){return a.getAnte(this.m_playList)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"blindLength",{get:function(){return a.getBlindLength(this.m_playList)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"startChips",{get:function(){return a.getStartChips(this.m_playList)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"speed",{get:function(){return a.getSpeed(this.m_playList)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"duration",{get:function(){return a.getDuration(this.m_playList)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"clubId",{get:function(){return a.getClubId(this.m_playList)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"entryFee",{get:function(){return a.getEntryFee(this.m_playList)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"regulation",{get:function(){return a.getRegulation(this.m_playList)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"insurance",{get:function(){return a.getInsurance(this.m_playList)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"controlEntry",{get:function(){return a.getControlEntry(this.m_playList)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"forceBlind",{get:function(){return a.getForceBlind(this.m_playList)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"GPS",{get:function(){return a.getGPS(this.m_playList)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"iPEnter",{get:function(){return a.getIPEnter(this.m_playList)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"controlSignUp",{get:function(){return a.getControlSignUp(this.m_playList)},enumerable:!0,configurable:!0}),a.getSmallblind=function(a){if(null!=a&&a instanceof Array){var b=a.first(function(a){return a.id==Cmd.Playing.PlayId.Smallblind});if(null!=b)return b.value}},a.getSeatNum=function(a){if(null!=a&&a instanceof Array){var b=a.first(function(a){return a.id==Cmd.Playing.PlayId.SeatNum});if(null!=b)return b.value}},a.getAnte=function(a){if(null!=a&&a instanceof Array){var b=a.first(function(a){return a.id==Cmd.Playing.PlayId.Ante});if(null!=b)return b.value}},a.getBlindLength=function(a){if(null!=a&&a instanceof Array){var b=a.first(function(a){return a.id==Cmd.Playing.PlayId.BlindLength});if(null!=b)return b.value}},a.getStartChips=function(a){if(null!=a&&a instanceof Array){var b=a.first(function(a){return a.id==Cmd.Playing.PlayId.StartChips});if(null!=b)return b.value}},a.getSpeed=function(a){if(null!=a&&a instanceof Array){var b=a.first(function(a){return a.id==Cmd.Playing.PlayId.Speed});if(null!=b)return b.value}},a.getDuration=function(a){if(null!=a&&a instanceof Array){var b=a.first(function(a){return a.id==Cmd.Playing.PlayId.Duration});if(null!=b)return b.value}},a.getClubId=function(a){if(null!=a&&a instanceof Array){var b=a.first(function(a){return a.id==Cmd.Playing.PlayId.ClubId});if(null!=b)return b.value}},a.getEntryFee=function(a){if(null!=a&&a instanceof Array){var b=a.first(function(a){return a.id==Cmd.Playing.PlayId.EntryFee});if(null!=b)return b.value}},a.getRegulation=function(a){if(null!=a&&a instanceof Array){var b=a.first(function(a){return a.id==Cmd.Playing.PlayId.Regulation});if(null!=b)return b.value}},a.getInsurance=function(a){if(null!=a&&a instanceof Array){var b=a.first(function(a){return a.id==Cmd.Playing.PlayId.Insurance});if(null!=b)return b.value}},a.getControlEntry=function(a){if(null!=a&&a instanceof Array){var b=a.first(function(a){return a.id==Cmd.Playing.PlayId.ControlEntry});if(null!=b)return b.value}},a.getForceBlind=function(a){if(null!=a&&a instanceof Array){var b=a.first(function(a){return a.id==Cmd.Playing.PlayId.ForceBlind});if(null!=b)return b.value}},a.getGPS=function(a){if(null!=a&&a instanceof Array){var b=a.first(function(a){return a.id==Cmd.Playing.PlayId.GPS});if(null!=b)return b.value}},a.getIPEnter=function(a){if(null!=a&&a instanceof Array){var b=a.first(function(a){return a.id==Cmd.Playing.PlayId.IPEnter});if(null!=b)return b.value}},a.getControlSignUp=function(a){if(null!=a&&a instanceof Array){var b=a.first(function(a){return a.id==Cmd.Playing.PlayId.ControlSignUp});if(null!=b)return b.value}},a}();a.PlayList=b}(game||(game={}));var game;!function(a){var b=function(){function b(){this.m_callOrRob=!1,this.m_seatList=new Array,this.addSeatChanged=new GX.MulticastEvent,this.delectSeatChanged=new GX.MulticastEvent,this.delectedSeatData=[],this.roomIdChanged=new GX.MulticastEvent,this.roomTypeChange=new GX.MulticastEvent,this.m_startGame=!1,this.startGameChanged=new GX.MulticastEvent,this.m_isEnableRound=!1,this.isEnableRoundChanged=new GX.MulticastEvent,this.ownerIdChanged=new GX.MulticastEvent,this.operateChanged=new GX.MulticastEvent,this.robLordOperateChanged=new GX.MulticastEvent,this.kickOperateChanged=new GX.MulticastEvent,this.landlordChanged=new GX.MulticastEvent,this.threeCardChanged=new GX.MulticastEvent,this.multipleChanged=new GX.MulticastEvent,this.seatMultipleUpdate=new GX.MulticastEvent,this.pointBaseChanged=new GX.MulticastEvent,this.inningsChanged=new GX.MulticastEvent,this.m_audienceList=[],this.addAudienceEvent=new GX.MulticastEvent,this.removeAudienceEvent=new GX.MulticastEvent,this.MainSeatChanged=new GX.MulticastEvent,this.m_bankerWait=[],this.bankerWaitChanged=new GX.MulticastEvent,this.roundWinLoseChanged=new GX.MulticastEvent,this.betMaxChanged=new GX.MulticastEvent,this.roomLevelChanged=new GX.MulticastEvent,this.playerNumber=3,this.matchidChanged=new GX.MulticastEvent,this.maxuserNbrChanged=new GX.MulticastEvent,this.noThreeAttachDouble=!1,this.cardNoteVisible=!1,this.propsEvent=new GX.MulticastEvent,this.pointLimitChangeHandle=new GX.MulticastEvent,this.roomPlayProps=[],this.leftCardChangeHandel=new GX.MulticastEvent,this.happyPointChange=new GX.MulticastEvent,this.tabPointChange=new GX.MulticastEvent,this.relogTabPointsEvent=new GX.MulticastEvent,this._happyPoint=0,this._tabPoints=0,this.startGameOpIdChange=new GX.MulticastEvent,this.betDataChange=new GX.MulticastEvent,this.betMeDataChange=new GX.MulticastEvent,this.bottomPointChange=new GX.MulticastEvent,this.smallBlindChange=new GX.MulticastEvent,this.blindLeftSecChange=new GX.MulticastEvent,this.lastCardNumChanged=new GX.MulticastEvent,this.chipPoolNumChanged=new GX.MulticastEvent,this.straddleIdChange=new GX.MulticastEvent,a.PokerFunction.handCardSort||(a.PokerFunction.handCardSort=function(a){return a.sort(function(a,b){return b-a})}),a.GameFunction.listenerEnterRoom()}return Object.defineProperty(b,"Instance",{get:function(){return null==this.m_Instance&&(this.m_Instance=new b),this.m_Instance},enumerable:!0,configurable:!0}),b.clearInstance=function(){this.m_Instance=null},Object.defineProperty(b.prototype,"callOrRob",{get:function(){return this.m_callOrRob},set:function(a){this.m_callOrRob=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"seatList",{get:function(){return this.m_seatList},enumerable:!0,configurable:!0}),b.prototype.clearSeatList=function(){for(var a=0,b=this.m_seatList;a<b.length;a++){var c=b[a];c.clearHandCard(),c.isReady=!1,this.delectSeatChanged.call(c.seatId)}this.m_seatList.clear()},b.prototype.addSeat=function(a){this.m_seatList.push(a),this.addSeatChanged.call(a)},b.prototype.delectSeat=function(a){var b=this.m_seatList.first(function(b){return b.seatId==a});b&&(b.clearHandCard(),b.isReady=!1,this.delectSeatChanged.call(a),this.m_seatList.deletefirst(function(b){return b.seatId==a}))},Object.defineProperty(b.prototype,"roomId",{get:function(){return this.m_roomId},set:function(a){this.m_roomId=a,this.roomIdChanged.call(this)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"roomType",{get:function(){return this.m_roomType},set:function(a){this.m_roomType=a,this.roomTypeChange.call(this)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"startGame",{get:function(){return this.m_startGame},set:function(a){this.m_startGame=a,this.startGameChanged.call(this)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isEnableRound",{get:function(){return this.m_isEnableRound},set:function(a){this.m_isEnableRound=a,this.isEnableRoundChanged.call(this)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"ownerId",{get:function(){return this.m_ownerId},set:function(a){this.m_ownerId=a,this.ownerIdChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"operate",{get:function(){return this.m_operate},set:function(a){this.m_operate=a,this.operateChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"operateSeatId",{get:function(){if(null==this.operate)return null;var b=a.PokerFunction.GetSeatDataByUid(this.operate.uid);return null==b?null:b.seatId},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"operateUid",{get:function(){return null==this.operate?null:this.operate.uid},enumerable:!0,configurable:!0}),b.prototype.setbottomCard=function(b,c,d){void 0===c&&(c=a.UpdataType.UPDATA),b=b&&b instanceof Array?b:[],this.m_bottomCard=b,GX.PokerEvent.Instance.bottomCardUpdate.call(b,c,d)},Object.defineProperty(b.prototype,"bottomCard",{get:function(){return this.m_bottomCard},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"robLordOperate",{get:function(){return this.m_robLordOperate},set:function(a){this.m_robLordOperate=a,this.robLordOperateChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"robLordOperateUid",{get:function(){return null==this.robLordOperate?null:this.robLordOperate.uid},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"robLordOperateSeatId",{get:function(){if(null==this.robLordOperate)return null;var b=a.PokerFunction.GetSeatDataByUid(this.robLordOperate.uid);return null==b?null:b.seatId},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"kickOperate",{get:function(){return this.m_kickOperate},set:function(a){this.m_kickOperate=a,this.kickOperateChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"landlordUid",{get:function(){return this.m_landlordUid},set:function(a){this.m_landlordUid=a,this.landlordChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"threeCard",{get:function(){return this.m_threeCard},set:function(a){this.m_threeCard=a,this.threeCardChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"multiple",{get:function(){return this.m_multiple},set:function(a){this.m_multiple=a,this.multipleChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"seatMultiple",{get:function(){return this.m_seatMultiple},set:function(a){a&&a instanceof Array||(this.m_seatMultiple=[]),this.m_seatMultiple=a,this.seatMultipleUpdate.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pointBase",{get:function(){return this.m_pointBase},set:function(a){this.m_pointBase=a,this.pointBaseChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"roomTotalInnings",{get:function(){return this._roomTotalInnings},set:function(a){this._roomTotalInnings=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"roomCurrentInnings",{get:function(){return this._roomCurrentInnings},set:function(a){this._roomCurrentInnings=a,this.inningsChanged.call(a)},enumerable:!0,configurable:!0}),b.prototype.addAudience=function(a){this.m_audienceList.push(a),this.addAudienceEvent.call(a)},b.prototype.removeAudience=function(a){this.m_audienceList.removeFirst(function(b){return b.uid==a}),this.removeAudienceEvent.call(a)},Object.defineProperty(b.prototype,"audienceList",{get:function(){return this.m_audienceList},enumerable:!0,configurable:!0}),b.prototype.clearAudienceList=function(){for(var a=0,b=this.m_audienceList;a<b.length;a++){var c=b[a];this.removeAudienceEvent.call(c.uid)}this.m_audienceList.clear()},b.prototype.initDoorDatas=function(a){this.m_doorDatas=a},Object.defineProperty(b.prototype,"doorDatas",{get:function(){return this.m_doorDatas},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"bankerWait",{get:function(){return this.m_bankerWait},set:function(a){a&&a instanceof Array||(a=[]),this.m_bankerWait=a,this.bankerWaitChanged.call(this.m_bankerWait)},enumerable:!0,configurable:!0}),b.prototype.addRoundWinLose=function(a){null==this.m_roundWinLose&&(this.m_roundWinLose=new Array),this.m_roundWinLose.push(a),this.roundWinLoseChanged.call(this.m_roundWinLose)},Object.defineProperty(b.prototype,"roundWinLose",{get:function(){return this.m_roundWinLose},set:function(a){a&&a instanceof Array&&(this.m_roundWinLose=a,this.roundWinLoseChanged.call(this.m_roundWinLose))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"betMax",{get:function(){return this.m_betMax},set:function(a){this.m_betMax=a,this.betMaxChanged.call(this.m_roundWinLose)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"level",{get:function(){return this.m_level},set:function(a){this.m_level=a,this.roomLevelChanged.call(a)},enumerable:!0,configurable:!0}),b.prototype.setRoomProp=function(a){if(a&&!(a.length<=0))for(var b=0;b<a.length;b++)a[b].id==Cmd.RoomPro.RoomPro_3&&(this.playerNumber=a[b].value)},Object.defineProperty(b.prototype,"matchid",{get:function(){return this.m_matchid},set:function(a){this.m_matchid=a,this.matchidChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"maxuserNbr",{get:function(){return this.m_maxuserNbr},set:function(a){this.m_maxuserNbr=a,this.maxuserNbrChanged.call(a)},enumerable:!0,configurable:!0}),b.prototype.setRoomPlayProps=function(a){a&&a instanceof Array&&!(a.length<=0)&&(this.roomPlayProps.clear(),this.roomPlayProps=a,this.noThreeAttachDouble=a.seek(function(a){return 10252==a}),this.propsEvent.call(this.roomPlayProps))},b.prototype.getPlayTypeByList=function(){if(!RES.hasRes("TablePlayTypeList_json"))return[];var b=[],c="";a.RoomInfo.getInstance().isTip=!1,this.roomPlayProps&&this.roomPlayProps.length&&0!=this.roomPlayProps.length||(this.roomPlayProps=[]),this.roomPlayProps.sort(function(a,b){return a>b?1:a==b?0:-1});for(var d=0;d<this.roomPlayProps.length;d++){var e=table.TablePlayTypeList.getPlayTypeDes(this.roomPlayProps[d]);c=c+e+"   ",b.push(e)}return a.RoomInfo.getInstance().roomDesc=c,b},Object.defineProperty(b.prototype,"pointLimit",{get:function(){return this._pointLimit},set:function(a){this._pointLimit=a,this.pointLimitChangeHandle.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"leftCardList",{get:function(){return this._leftCardList},set:function(a){a=a&&a instanceof Array?a:[],this._leftCardList||(this._leftCardList=new Array),this._leftCardList=a,this.leftCardChangeHandel.call(a)},enumerable:!0,configurable:!0}),b.prototype.removeLeftCard=function(a){if(this.leftCardList&&0!=a.length&&null!=a){for(var b=0,c=a;b<c.length;b++){var d=c[b],e=this.leftCardList.first(function(a){return a==d});null!=e&&this.leftCardList.remove(e)}this.leftCardChangeHandel.call(this.leftCardList)}},Object.defineProperty(b.prototype,"happyPoint",{get:function(){return this._happyPoint},set:function(a){null!=a&&NaN!=a&&(this._happyPoint+=a,this.happyPointChange.call(a))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tabPoints",{get:function(){return this._tabPoints},set:function(a){null!=a&&NaN!=a&&(this._tabPoints=a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"startGameOpId",{get:function(){return this._startGameOpId},set:function(a){this._startGameOpId=a,this.startGameOpIdChange.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"betData",{get:function(){return this._betData},set:function(a){this._betData=a,this.betDataChange.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"betMeData",{get:function(){return this._betMeData},set:function(a){this._betMeData||(this._betMeData=new Cmd.BetData),this._betMeData=a,this.betMeDataChange.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"stateList",{get:function(){return this._stateList},set:function(a){this._stateList=a,this.isEnableRound=a.seek(function(a){return a==Cmd.GameState.State_RoundEnable})},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"bottomPoint",{get:function(){return this._bottomPoint},set:function(a){this._bottomPoint=a,this.bottomPointChange.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"smallBlind",{get:function(){return this.m_smallBlind},set:function(a){this.m_smallBlind=a,this.smallBlindChange.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"blindLeftSec",{get:function(){return this.m_blindLeftSec},set:function(a){this.m_blindLeftSec=a,this.blindLeftSecChange.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"lastCardNum",{get:function(){return this._lastCardNum||(this._lastCardNum=0),this._lastCardNum},set:function(a){null!=a&&(this._lastCardNum=a,this.lastCardNumChanged.call())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"chipPoolNum",{get:function(){return this._chipPoolNum||(this._chipPoolNum=0),this._chipPoolNum},set:function(a){this._chipPoolNum=a,this.chipPoolNumChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"straddleId",{get:function(){return this.m_straddleId},set:function(a){this.m_straddleId=a,this.straddleIdChange.call(a)},enumerable:!0,configurable:!0}),b}();a.RoomData=b;var c=function(){function a(){}return a}();a.RobLordOperateData=c;var d=function(){function a(){}return a}();a.OperateData=d;var e=function(){function a(){}return a}();a.KickOperateData=e}(game||(game={}));var game;!function(a){var b=function(){function b(a){this.readyChanged=new GX.MulticastEvent,this.userChanged=new GX.MulticastEvent,this.userPlaceCardList=new Array,this.placeCardsChanged=new GX.MulticastEvent,this.handCardList=new Array,this.addHandCardEvent=new GX.MulticastEvent,this.delectHandCardEvent=new GX.MulticastEvent,this.replaceHandCardEvent=new GX.MulticastEvent,this.showHandCardEvent=new GX.MulticastEvent,this.cardtypeChanged=new GX.MulticastEvent,this.cardKeyChanged=new GX.MulticastEvent,this.handCardCountChanged=new GX.MulticastEvent,this.catchCardNumChanged=new GX.MulticastEvent,this.kingNumChanged=new GX.MulticastEvent,this.m_outCardList=new Array,this.outCardChanged=new GX.MulticastEvent,this.onlineChanged=new GX.MulticastEvent,this.seatMultipleChanged=new GX.MulticastEvent,this._isInGame=!1,this.isInGameChanged=new GX.MulticastEvent,this._isSit=!1,this.isSitChanged=new GX.MulticastEvent,this.seatKengPoinChanged=new GX.MulticastEvent,this.m_betCount=0,this.betCountChanged=new GX.MulticastEvent,this.m_curBetCount=0,this.curBetCountChanged=new GX.MulticastEvent,this.seatOperationChanged=new GX.MulticastEvent,this._seatStateList=new Array,this.seatStateListChanged=new GX.MulticastEvent,this.seatStateAdd=new GX.MulticastEvent,this._recommendList=new Array,this.recommendListChanged=new GX.MulticastEvent,this.listenStatusChanged=new GX.MulticastEvent,this._listened=!1,this._hasFord=!1,this.batteryIndexChanged=new GX.MulticastEvent,this.lockChanged=new GX.MulticastEvent,this.m_seatId=a}return Object.defineProperty(b.prototype,"seatId",{get:function(){return this.m_seatId},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isReady",{get:function(){return this.m_isReady},set:function(a){this.m_isReady!=a&&(this.m_isReady=a,this.readyChanged.call(a))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"user",{get:function(){return this.m_user},set:function(b){var c=this.m_user;b!=this.m_user&&(this.m_user=b,this.userChanged.call(b),c&&c.uid==uniLib.NetMgr.UID&&a.RoomData.Instance.MainSeatChanged.call(a.USerSeatState.StandUp),b&&b.uid==uniLib.NetMgr.UID&&a.RoomData.Instance.MainSeatChanged.call(a.USerSeatState.SitDown))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"placeCards",{get:function(){return this.userPlaceCardList||(this.userPlaceCardList=new Array),this.userPlaceCardList},set:function(a){this.userPlaceCardList=a,this.placeCardsChanged.call(a)},enumerable:!0,configurable:!0}),b.prototype.clearHandCard=function(){for(var a=0,b=this.handCardList;a<b.length;a++){var c=b[a];this.delectHandCardEvent.call(c)}this.handCardList.clear()},b.prototype.addHandCard=function(b,c,d){void 0===c&&(c=a.CardActionType.INIT),void 0===d&&(d=null),this.handCardList.push(b),this.addHandCardEvent.call(b,c,d)},b.prototype.removedHandCard=function(a){this.handCardList.removeFirst(function(b){return b==a}),this.delectHandCardEvent.call(a)},Object.defineProperty(b.prototype,"handCards",{get:function(){return this.handCardList},enumerable:!0,configurable:!0}),b.prototype.replaceHandCard=function(a,b){null!=a&&a<this.handCards.length&&(this.handCards[a]=b,this.replaceHandCardEvent.call(a,b))},b.prototype.getCardtype=function(){return this.m_cardtype},b.prototype.setCardtype=function(a){this.m_cardtype=a,this.cardtypeChanged.call()},b.prototype.getCardKey=function(){return this.m_cardKey},b.prototype.setCardKey=function(a){this.m_cardKey=a,this.cardKeyChanged.call()},Object.defineProperty(b.prototype,"handCardSum",{get:function(){return this.m_handCardCount},set:function(a){this.m_handCardCount=a,this.handCardCountChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"catchCardNum",{get:function(){return this.m_catchCardNum},set:function(a){this.m_catchCardNum=a,this.m_handCardCount+=a,this.catchCardNumChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"kingNum",{get:function(){return this.m_kingNum},set:function(a){this.m_kingNum=a,this.kingNumChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"outCardList",{get:function(){return this.m_outCardList},set:function(a){this.m_outCardList=a,this.outCardChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"onlineState",{get:function(){return this.m_onlineState},set:function(a){this.m_onlineState=a,this.onlineChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"seatMultiple",{get:function(){return this.m_multiple},set:function(a){this.m_multiple=a,this.seatMultipleChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isInGame",{get:function(){return this._isInGame},set:function(a){this._isInGame=a,this.isInGameChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isSit",{get:function(){return this._isSit},set:function(a){this._isSit=a,this.isSitChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"KengPoint",{get:function(){return this._kengPoints},set:function(a){a&&(this._kengPoints=a,this.seatKengPoinChanged.call(a))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"betCount",{get:function(){return this.m_betCount},set:function(a){NaN!=a&&(this.m_betCount=a,this.betCountChanged.call(this.m_betCount))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"curBetCount",{get:function(){return this.m_curBetCount},set:function(a){NaN!=a&&(this.m_curBetCount=a,this.curBetCountChanged.call(this.m_curBetCount))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"Operate",{get:function(){return this._operate},set:function(a){this._operate=a,this.seatOperationChanged.call(this._operate)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"seatStateList",{get:function(){return this._seatStateList},set:function(a){a=null!=a&&a instanceof Array?a:[],this._seatStateList=a,this.seatStateListChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"addSeatState",{get:function(){return this._addSeatState},set:function(a){this._addSeatState=a,this.seatStateAdd.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"recommendList",{get:function(){return this._recommendList},set:function(a){a=null!=a&&a instanceof Array?a:[],this._recommendList=a,this.recommendListChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"listened",{get:function(){return this._listened},set:function(a){this._listened=a,this.listenStatusChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"hasFord",{get:function(){return this._hasFord},set:function(a){this._hasFord=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"batteryIndex",{get:function(){return this.m_batteryIndex},set:function(a){a=null==a?1:a,this.m_batteryIndex=a,this.batteryIndexChanged.call(this)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"lockFishId",{get:function(){return this.m_lockFishId},enumerable:!0,configurable:!0}),b.prototype.setLock=function(a,b){this.m_lock=a,this.m_lockFishId=b,this.lockChanged.call(this)},Object.defineProperty(b.prototype,"lock",{get:function(){return this.m_lock},enumerable:!0,configurable:!0}),b}();a.SeatData=b}(game||(game={}));var game;!function(a){var b=function(){function b(a){this.headUrlChanged=new GX.MulticastEvent,this.nameChanged=new GX.MulticastEvent,this.genderChanged=new GX.MulticastEvent,this.pointChanged=new GX.MulticastEvent,this.repointChanged=new GX.MulticastEvent,this.diamondChanged=new GX.MulticastEvent,this.cutScoreChanged=new GX.MulticastEvent,this.cardScoreChanged=new GX.MulticastEvent,this.trustStateChanged=new GX.MulticastEvent,this.statisticsChanged=new GX.MulticastEvent,this.m_uid=a}return Object.defineProperty(b.prototype,"headUrl",{get:function(){return this.m_headurl},set:function(a){this.m_headurl=a,this.headUrlChanged.call(this)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"uid",{get:function(){return this.m_uid},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"nickName",{get:function(){return this.m_nickName},set:function(b){this.m_nickName=a.Config.IsFormatName?GX.Utils.GetByteString(b,8):b,this.nameChanged.call(this)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"gender",{get:function(){return this.m_gender},set:function(a){this.m_gender=a,this.genderChanged.call(this)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"point",{get:function(){return null==this.m_point?0:this.m_point},set:function(a){a=null==a?0:a,this.m_point=a,this.pointChanged.call(this)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"repoint",{get:function(){return null==this.m_point?0:this.m_point},set:function(a){a=null==a?0:a,this.m_point=a,this.repointChanged.call(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"diamond",{get:function(){return null==this.m_diamond?0:this.m_diamond},set:function(a){a=null==a?0:a,this.m_diamond=a,this.diamondChanged.call(this)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"cutScore",{get:function(){return this.m_cutScore},set:function(a){this.m_cutScore=a,this.cutScoreChanged.call(this)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"cardScore",{get:function(){return this.m_cardScore},set:function(a){this.m_cardScore=a,this.cardScoreChanged.call(this)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isTrust",{get:function(){return this._isTrust},set:function(a){this._isTrust=a,this.trustStateChanged.call(this)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isInGame",{get:function(){return this.m_isInGame},set:function(a){this.m_isInGame=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"statistics",{get:function(){return this.m_statistics},set:function(a){this.m_statistics=a,this.statisticsChanged.call(this)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isRobot",{get:function(){return this.m_isRobot},set:function(a){this.m_isRobot=a},enumerable:!0,configurable:!0}),b.prototype.updataInfo=function(a){this.nickName=a.name,this.point=a.point,this.gender=a.gender,this.diamond=a.diamond,this.headUrl=a.headurl,this.isRobot=a.isRobot},b}();a.UserInfo=b}(game||(game={}));var game;!function(a){var b=function(){function a(){}return a.personalUpdate=new GX.MulticastEvent,a.rankingListEvent=new GX.MulticastEvent,a.startGameCmdEvent=new GX.MulticastEvent,a.spawnFishEvent=new GX.MulticastEvent,a.sendBulletEvent=new GX.MulticastEvent,a.deadFishEvent=new GX.MulticastEvent,a.hitFishEvent=new GX.MulticastEvent,a.changeSceneEvent=new GX.MulticastEvent,a.actionEvent=new GX.MulticastEvent,a}();a.Action=b}(game||(game={}));var GX;!function(a){var b=function(){function b(){this.tcpSendEvent=new a.MulticastEvent,this.landlordRobResult=new a.MulticastEvent,this.calllordRobResult=new a.MulticastEvent,this.playCard=new a.MulticastEvent,this.kickPlay=new a.MulticastEvent,this.dissolveRoomUpdate=new a.MulticastEvent,this.systemMessage=new a.MulticastEvent,this.leaveRoom=new a.MulticastEvent,this.leaveRoom_Brd=new a.MulticastEvent,this.roundResult=new a.MulticastEvent,this.dealCardEnd=new a.MulticastEvent,this.dealCardAnimation=new a.MulticastEvent,this.showBackCardsAnimation=new a.MulticastEvent,this.threeCardAnimation=new a.MulticastEvent,this.gameFinalSettle=new a.MulticastEvent,this.gameServerTime=new a.MulticastEvent,this.gmAvailableCardUpdate=new a.MulticastEvent,this.gameStateUpdate=new a.MulticastEvent,this.bankerDataUpdate=new a.MulticastEvent,this.showSurrenderTipsHandle=new a.MulticastEvent,this.bottomCardUpdate=new a.MulticastEvent,this.lotteryMulticast=new a.MulticastEvent,this.rankUpdateMulticast=new a.MulticastEvent,this.rankListMulticast=new a.MulticastEvent,this.historyUpdate=new a.MulticastEvent,this.SendGiftEvent=new a.MulticastEvent,this.callCardEvent=new a.MulticastEvent,this.betRoomEvent=new a.MulticastEvent,this.GmUidListUpdateEvent=new a.MulticastEvent,this.GmStockUpdateEvent=new a.MulticastEvent,this.userBetEvent=new a.MulticastEvent,this.userSeatdown=new a.MulticastEvent,this.showCardsEvent=new a.MulticastEvent,this.NiuNiuTipsEvent=new a.MulticastEvent,this.DisplayCardEvent=new a.MulticastEvent,this.circleEndEvent=new a.MulticastEvent,this.reconnecEvent=new a.MulticastEvent,this.InsuranceNewOpEvent=new a.MulticastEvent,this.insuranceBuyEvent=new a.MulticastEvent,this.insuranceStartEvent=new a.MulticastEvent,this.audienceUpdataEvent=new a.MulticastEvent,this.roomDataUpdateEvent=new a.MulticastEvent,this.buyBringEvent=new a.MulticastEvent,this.moneyUpdate=new a.MulticastEvent,this.VoteUpdate=new a.MulticastEvent,this.ActionUpdate=new a.MulticastEvent,this.compareResultEvent=new a.MulticastEvent,this.texasConfigChange=new a.MulticastEvent,this.texasRoundChanged=new a.MulticastEvent,this.collectResultEvent=new a.MulticastEvent,this.straddleChange=new a.MulticastEvent,this.PlayingUpdateEvent=new a.MulticastEvent,this.AudienceUpdate=new a.MulticastEvent}return Object.defineProperty(b,"Instance",{get:function(){return null==this.m_Instance&&(this.m_Instance=new b),this.m_Instance},enumerable:!0,configurable:!0}),b}();a.PokerEvent=b}(GX||(GX={}));var uniLib;!function(a){!function(a){a.Show_MenuPanel="Show_MenuPanel",a.Remove_MenuPanel="Remove_MenuPanel",a.Show_MallPanel="Show_MallPanel",a.Menu_ChipsChanged="Menu_ChipsChanged",a.Menu_SwitchChipsAutoUpdate="Menu_SwitchChipsAutoUpdate",a.Auto_BuyGold="Auto_BuyGold",a.ClientSettleFinish="ClientSettleFinish"}(a.CustomEvent||(a.CustomEvent={}))}(uniLib||(uniLib={}));var game;!function(a){!function(a){a[a.StandUp=1]="StandUp",a[a.SitDown=2]="SitDown"}(a.USerSeatState||(a.USerSeatState={}));a.USerSeatState}(game||(game={}));var game;!function(a){var b=function(){function a(){}return a.clearData=function(){this.isStandAlone=!1},a.isStandAlone=!1,a}();a.PokerData=b,function(a){a[a.RECONNEC=1]="RECONNEC",a[a.UPDATA=4]="UPDATA"}(a.UpdataType||(a.UpdataType={}));a.UpdataType;!function(a){a[a.INIT=1]="INIT",a[a.ADD=2]="ADD",a[a.RECONNEC=3]="RECONNEC"}(a.CardActionType||(a.CardActionType={}));a.CardActionType;!function(a){a[a.FirstHand=0]="FirstHand",a[a.PassOnly=1]="PassOnly",a[a.Play=2]="Play"}(a.OperationType||(a.OperationType={}));a.OperationType;!function(a){a[a.Error_Card=100]="Error_Card",a[a.Single_Card=1]="Single_Card",a[a.Double_Card=2]="Double_Card",a[a.Three_Card=3]="Three_Card",a[a.Bomb_Card=4]="Bomb_Card",a[a.KingBomb_Card=5]="KingBomb_Card",a[a.ThreeOne_Card=6]="ThreeOne_Card",a[a.ThreeTwo_Card=7]="ThreeTwo_Card",a[a.Four_TwoSingle_Card=8]="Four_TwoSingle_Card",a[a.Four_TwoDouble_Card=9]="Four_TwoDouble_Card",a[a.Lian_Card=10]="Lian_Card",a[a.Double_Lian_Card=11]="Double_Lian_Card",a[a.Feiji_Card=12]="Feiji_Card",a[a.Feiji_TwoSingle_Card=13]="Feiji_TwoSingle_Card",a[a.Feiji_TwoDouble_Card=14]="Feiji_TwoDouble_Card"}(a.CardType||(a.CardType={}));a.CardType}(game||(game={}));var game;!function(a){var b=function(){function b(){}return b.startUp=function(){this.listenerEnterRoom()},b.listenerEnterRoom=function(){MJLobby.MJLobbyEventListener.getInstance().addEventListener(MJLobby.MahJongLobbyFacadeConsts.JOIN_ROOM,this.onEnterRoom,this),0==MJLobby.MJLobbyEventListener.getInstance().hasEventListener(MJLobby.MahJongLobbyFacadeConsts.UserChipChaned)&&MJLobby.MJLobbyEventListener.getInstance().addEventListener(MJLobby.MahJongLobbyFacadeConsts.UserChipChaned,this.onUserChipChaned,this)},b.onEnterRoom=function(){a.PokerData.LobbyScaleMode=egret.MainContext.instance.stage.scaleMode,a.PokerFunction.exitGame(),a.PanelManage.destroyPanel()},b.onUserChipChaned=function(b){var c=b.data;if(c&&c.uid){var d=a.PokerFunction.GetSeatDataByUid(c.uid);d&&(d.user.point=c.point)}},b.exitGame=function(){a.Config.GameSeatNumber=null,a.Config.BetTimeout=0,a.Config.SeatGame=!0,a.PokerData.LobbyScaleMode&&(egret.MainContext.instance.stage.scaleMode=a.PokerData.LobbyScaleMode);var b=dragonBones.EgretFactory.factory;b.clear(),b.dispose(),dragonBones.EgretFactory.clock&&dragonBones.EgretFactory.clock.clear(),a.FastSitDown.destroy(),uniLib.SoundMgr.instance.stopBgMusic(),uniLib.SoundMgr.instance.stopSounds(),GX.MulticastEvent.EventList.removeAllEvent(),a.RoomData.clearInstance(),a.GameLayer.clearInstance(),a.PokerData.clearData(),a.BankerData.clearInstance(),a.PokerFunction.handCardSort=null,a.Timer.clearAllTimer(),egret.Tween.removeAllTweens(),table.deleteCache(),a.PanelManage.destroyPanel()},b}();a.GameFunction=b}(game||(game={}));var game;!function(a){var b=function(){function a(){}return Object.defineProperty(a,"Instance",{get:function(){return null==this.m_Instance&&(this.m_Instance=new a),this.m_Instance},enumerable:!0,configurable:!0}),a.clearInstance=function(){this.m_Instance=null},Object.defineProperty(a.prototype,"uiLayer",{set:function(a){this.m_uiLayer=a,this.m_uiLayer.name="uiLayer"},enumerable:!0,configurable:!0}),a.prototype.addUI=function(a){this.m_uiLayer&&this.m_uiLayer.addChild(a)},a.prototype.removeUI=function(a){for(var b=0;b<this.m_uiLayer.numChildren;b++)if(this.m_uiLayer.getChildAt(b)==a){this.m_uiLayer.removeChild(a);break}},Object.defineProperty(a.prototype,"topLayer",{set:function(a){this.m_topLayer=a,this.m_topLayer.name="topLayer"},enumerable:!0,configurable:!0}),a.prototype.addTop=function(a){this.m_topLayer&&this.m_topLayer.addChild(a)},a.prototype.removeTop=function(a){for(var b=0;b<this.m_topLayer.numChildren;b++)if(this.m_topLayer.getChildAt(b)==a){this.m_topLayer.removeChild(a);break}},Object.defineProperty(a.prototype,"effectLayer",{set:function(a){this.m_effectLayer=a,this.m_effectLayer.name="effectLayer"},enumerable:!0,configurable:!0}),a.prototype.addEffect=function(a){this.m_effectLayer&&this.m_effectLayer.addChild(a)},a.prototype.removeEffect=function(a){for(var b=0;b<this.m_effectLayer.numChildren;b++)if(this.m_effectLayer.getChildAt(b)==a){this.m_effectLayer.removeChild(a);break}},Object.defineProperty(a.prototype,"mainUILayer",{set:function(a){this.m_mainUILayer=a,this.m_mainUILayer.name="mainUILayer"},enumerable:!0,configurable:!0}),a.prototype.addMainUI=function(a){this.m_mainUILayer&&this.m_mainUILayer.addChild(a)},a.prototype.removeMainUI=function(a){for(var b=0;b<this.m_mainUILayer.numChildren;b++)if(this.m_mainUILayer.getChildAt(b)==a){this.m_mainUILayer.removeChild(a);break}},Object.defineProperty(a.prototype,"maskLayer",{set:function(a){this.m_maskLayer=a,this.m_maskLayer.name="maskLayer"},enumerable:!0,configurable:!0}),a.prototype.addMask=function(a){this.m_maskLayer&&this.m_maskLayer.addChild(a)},a.prototype.removeMask=function(a){for(var b=0;b<this.m_maskLayer.numChildren;b++)if(this.m_maskLayer.getChildAt(b)==a){this.m_maskLayer.removeChild(a);break}},Object.defineProperty(a.prototype,"tipsLayer",{set:function(a){this.m_tipsLayer=a,this.m_tipsLayer.name="tipsLayer"},enumerable:!0,configurable:!0}),a.prototype.addTip=function(a){this.m_tipsLayer&&this.m_tipsLayer.addChild(a)},a.prototype.removeTip=function(a){for(var b=0;b<this.m_tipsLayer.numChildren;b++)if(this.m_tipsLayer.getChildAt(b)==a){this.m_tipsLayer.removeChild(a);break}},a.prototype.destory=function(){},a}();a.GameLayer=b}(game||(game={}));var game;!function(a){var b=function(){function a(){}return a.serverNow=function(){return Date.now()-this.offset},a.serverUnixStamp=function(){return Math.floor(this.serverNow())},a.localNow=function(){return Date.now()},a.localUnixStamp=function(){return Math.floor(this.localNow())},a.responseSync=function(a){this.offset=Date.now()-a},a.rquestSync=function(){var a=new Cmd.GameTimeSyncCmd_CS;uniLib.NetMgr.tcpSend(a)},a.leftTimeByServerStamp=function(a){return a-this.serverNow()},a.offset=0,a}();a.GameTime=b}(game||(game={}));var game;!function(a){!function(a){a[a.Chinese=1]="Chinese",a[a.English=2]="English",a[a.ChineseTraditional=3]="ChineseTraditional"}(a.LanguageType||(a.LanguageType={}));var b=a.LanguageType,c=function(){function a(){}return Object.defineProperty(a,"Type",{get:function(){if(null==this.m_Type){var a=storage.language.getValue();this.m_Type=a||b.Chinese}return this.m_Type},set:function(a){this.m_Type=a,storage.language.setValue(a),this.TypeChanged.call()},enumerable:!0,configurable:!0}),a.Translate=function(c){if(null!=c){if(a.Type==b.Chinese)return c;var d=table.TableLanguage.chineseMap();if(null==d)return c;var e=d[c];return null==e?c:a.Type==b.English?e.english:a.Type==b.ChineseTraditional?e.chineseTraditional:void 0}},a.TranslateByCode=function(c){if(null!=c){var d=table.TableLanguage.codeMap();if(null==d)return c+"";var e=d[c];return null==e?c+"":a.Type==b.Chinese?e.chinese:a.Type==b.English?e.english:a.Type==b.ChineseTraditional?e.chineseTraditional:void 0}},a.TranslateFormat=function(){for(var b=[],c=0;c<arguments.length;c++)b[c-0]=arguments[c];var d=arguments,e=d[0];return null==e?e:(e=a.Translate(e),null==e?e:e.replace(/{(\d+)}/g,function(b,c){return void 0!==d[c]?a.Translate(d[c]):b}))},a.TranslateImage=function(c){return a.Type==b.Chinese?c:"english_"+c},a.open=!1,a.TypeChanged=new GX.MulticastEvent,a}();a.Language=c}(game||(game={}));var game;!function(a){var b=function(){function a(){}return Object.defineProperty(a,"Instance",{get:function(){return null==this.m_Instance&&(this.m_Instance=new a),this.m_Instance},enumerable:!0,configurable:!0}),a.clearInstance=function(){this.m_Instance=null},a.prototype.ConnectionGame=function(a,b){var c=new MJLobby.JoinRoomVo;c.gameId=a,c.globalRoomId=-1,c.zoneId=b,c.roomId=-1,MJLobby.MJLobbyData.getInstance().everyFirstLogin=!1,MJLobby.MJLobbyMatchData.getInstance().isEnroll=!1,MJLobby.MJLobbyData.getInstance().video=0;var c=c,d=MJLobby.MJLobbyData.getInstance().getLobbyConfig();d.hasOwnProperty("lobbyDiamond")?c.minLeaveRoomDiamond=d.lobbyDiamond:c.minLeaveRoomDiamond=100;var e=MJLobby.MJLobbyData.getConfigByGameId(c.gameId);e.showBack=!0,e.extData=c,e.destroyResOnExit=!1,e.defaultOrientation=egret.OrientationMode.LANDSCAPE;var f=new Pmd.ZoneInfo;if(f.zoneid=c.zoneId,f.gameid=c.gameId,MJLobby.MJLobbyData.getInstance().continueObj=null,c.shareInfo)if(""==uniLib.ZQGameSdk.defaultWXShareVo.webpageUrl&&MJLobby.LobbyDataCache.bundleInfo&&MJLobby.LobbyDataCache.bundleInfo.weixin.wbappid){var g=MJLobby.MJLobbyData.getInstance().myBaseInfo.nickName;g.length>8&&(g=g.slice(0,8)),c.shareInfo.webPageUrl="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+MJLobby.LobbyDataCache.bundleInfo.weixin.wbappid+"&redirect_uri=http://wx.zqgame.com/addons/zqgame/gameshare.php?appid="+MJLobby.LobbyDataCache.bundleInfo.weixin.wbappid+"&response_type=code&scope=snsapi_base&state="+uniLib.CompressUtil.base64encode(MJLobby.MJLobbyData.getInstance().myBaseInfo.uid+"|"+c.roomId+"|"+g)+"&connect_redirect=1#wechat_redirect"}else c.shareInfo.webPageUrl=uniLib.ZQGameSdk.defaultWXShareVo.webpageUrl+"?uid="+MJLobby.MJLobbyData.getInstance().myBaseInfo.uid+"&nickName="+MJLobby.MJLobbyData.getInstance().myBaseInfo.nickName;e.zoneInfo=f,e&&(uniLib.GameModuleUtils.ExitGame(!1),uniLib.UIMgr.instance.showProcessBar(null,1,100,"加载游戏，请稍后...","",!0),uniLib.GameModuleUtils.LoadGame(e.gameCodeUrl,e.gameDoc,e,null,function(){}),MJLobby.MahJongLobbyFacade.getLobbyInstance().sendNotification(MJLobby.MahJongLobbyFacadeConsts.DESTORY))},a}();a.LocalConnection=b}(game||(game={}));var storage;!function(a){!function(a){function b(a){egret.localStorage.setItem(d,a+"")}function c(){var a=egret.localStorage.getItem(d);return null==a||NaN==Number(a)?game.LanguageType.Chinese:Number(a)}var d="language";a.setValue=b,a.getValue=c}(a.language||(a.language={}))}(storage||(storage={}));var game;!function(a){var b=function(){function a(){}return a.setTimeout=function(a,b,c){for(var d=[],e=3;e<arguments.length;e++)d[e-3]=arguments[e];var f=egret.setTimeout.apply(egret,[a,b,c].concat(d));return this.timeOuts.push(f),f},a.clearTimeout=function(a){egret.clearTimeout(a),this.timeOuts.remove(a)},a.setInterval=function(a,b,c){for(var d=[],e=3;e<arguments.length;e++)d[e-3]=arguments[e];var f=egret.setInterval.apply(egret,[a,b,c].concat(d));return this.intervals.push(f),f},a.clearInterval=function(a){egret.clearInterval(a),this.intervals.remove(a)},a.clearTimerTnterval=function(){for(var a=0,b=this.intervals;a<b.length;a++){var c=b[a];egret.clearInterval(c)}this.intervals.clear()},a.clearTimerOut=function(){for(var a=0,b=this.timeOuts;a<b.length;a++){var c=b[a];egret.clearTimeout(c)}this.timeOuts.clear()},a.clearAllTimer=function(){this.clearTimerOut(),this.clearTimerTnterval()},a.timeOuts=[],a.intervals=[],a}();a.Timer=b}(game||(game={}));var Cmd;!function(a){function b(b){uniLib.UIMgr.instance.hideLoading(),b.roomData.timestamp&&game.GameTime.responseSync(b.roomData.timestamp);var c=game.RoomData.Instance,d=b.roomData.seatList;(d=d&&d instanceof Array?d:[])&&d instanceof Array&&(b.roomData.seatList=d.sort(function(a,b){return a.role&&a.role.uid==uniLib.NetMgr.UID?-1:1}));var e=b.roomData.seatNumber?b.roomData.seatNumber:game.Config.GameSeatNumber;if(e)for(var f=function(b){var c=b+1;if(d.seek(function(a){return a.seatId==c}))return"continue";var e=new a.SeatData;e.seatId=c,d.push(e)},g=0;g<e;g++){f(g)}var h=b.roomData.maxUserNum;if(c.maxuserNbr=null==h?d.length:h,b.roomData.roomState&&b.roomData.roomState.roomProps&&game.RoomData.Instance.setRoomProp(b.roomData.roomState.roomProps),b.roomData.roomState&&b.roomData.roomState.props&&game.RoomData.Instance.setRoomPlayProps(b.roomData.roomState.props),b.roomData.bottomPoint&&(game.RoomData.Instance.bottomPoint=b.roomData.bottomPoint),b.roomData.happyPoint&&(game.RoomData.Instance.happyPoint=b.roomData.happyPoint),b.leftCardList&&(game.RoomData.Instance.leftCardList=b.leftCardList),b.roomData.actList&&GX.PokerEvent.Instance.ActionUpdate.call(b.roomData.actList),b.roomData.gameNumList)for(var i=0,j=b.roomData.gameNumList;i<j.length;i++){var k=j[i];switch(k.typ){case a.GameNumber.Type.PointBase:c.pointBase=k.value;break;case a.GameNumber.Type.PointBottom:game.RoomData.Instance.bottomPoint=k.value;break;case a.GameNumber.Type.Pan:game.RoomData.Instance.tabPoints=k.value,game.RoomData.Instance.tabPointChange.call(game.RoomData.Instance.tabPoints),game.RoomData.Instance.relogTabPointsEvent.call(game.RoomData.Instance.tabPoints)}}c.level=b.roomData.level,game.MessageHandle.ReplaceSeatData(d),game.MessageHandle.ReplaceAudienceList(b.roomData.audienceList),game.MessageHandle.updataTexasConfig(b.roomData.texas),c.callOrRob=b.roomData.callOrRob,c.roomId=b.roomData.roomId,c.ownerId=b.roomData.ownerId,c.pointBase=b.roomData.pointBase,c.pointLimit=b.roomData.pointLimit,c.startGameOpId=b.roomData.startGameOpId,c.roomType=b.roomData.roomType,c.roomTotalInnings=b.roomData.gameNbr,c.roomCurrentInnings=b.roomData.gameNbrCur,c.bankerWait=b.roomData.bankerWait,c.blindLeftSec=b.roomData.leftSecBlind;var l=b.roomData.roomState;if(c.matchid=l?l.matchId:null,b.roomData.stateList=null!=b&&null!=b.roomData&&null!=b.roomData.stateList&&b.roomData.stateList instanceof Array?b.roomData.stateList:[],c.stateList=b.roomData.stateList,game.MessageHandle.ReplaceRoundData(b.roomData),game.MessageHandle.HBRoomDataUpdate(b),b.roomData.voteData){var m=new a.VoteUpdateCmd_S;m.data=b.roomData.voteData,GX.PokerEvent.Instance.VoteUpdate.call(m)}null!=b.roomData.statusInfo&&GX.PokerEvent.Instance.gameStateUpdate.call(b.roomData.statusInfo),game.MessageHandle.showTipsEvent(b),GX.PokerEvent.Instance.lotteryMulticast.call(b.roomData.lottery),b.roomData&&b.roomData.dissolve&&GX.PokerEvent.Instance.dissolveRoomUpdate.call(b.roomData.dissolve),game.Timer.clearInterval(a.EchoTimer),a.EchoTimer=game.Timer.setInterval(function(){uniLib.NetMgr.checkMsgTimeout(5e3)&&uniLib.NetMgr.setMsgTimeout(5,"ClientEchoRoomCmd_SC")&&game.PokerFunction.tcpSend(new a.ClientEchoRoomCmd_SC)},this,2e3),GX.PokerEvent.Instance.roomDataUpdateEvent.call(b),GX.PokerEvent.Instance.reconnecEvent.call(),"1"==egret.localStorage.getItem("show_SSC")&&uniLib.Global.dispatchEvent(uniLib.ZqEvent.EVENT_G2L,"show_SSC"),null!=uniLib.Global.lastPingUpTimestamp&&(uniLib.Global.lastPing=Date.now()-uniLib.Global.lastPingUpTimestamp,uniLib.Global.lastPingUpTimestamp=null)}function c(b){if(b&&b.seatData&&b.seatData instanceof Array)if(b.op=b.op!=a.UpdateOperator.Delete||game.Config.SeatGame?b.op:a.UpdateOperator.StandUp,b.seatData.sort(function(a,b){return Math.abs(a.role.uid-uniLib.NetMgr.UID)-Math.abs(b.role.uid-uniLib.NetMgr.UID)}),b.op==a.UpdateOperator.Replace)game.MessageHandle.ReplaceSeatData(b.seatData);else if(b.op==a.UpdateOperator.Update)for(var c=game.RoomData.Instance.seatList,d=function(a){var b=c.first(function(b){return b.seatId==a.seatId});b||(b=new game.SeatData(a.seatId),game.RoomData.Instance.addSeat(b)),b.user||(b.user=new game.UserInfo(a.role.uid)),b.user.cardScore=a.cardScore,b.user.cutScore=a.cutScore,b.user.point=a.role.point,b.user.updataInfo(a.role),b.isReady=a.isReady,b.isInGame=a.isInGame,b.isSit=a.isSit,b.outCardList=a.outCardList,b.batteryIndex=a.batteryId,b.setLock(!!a.lockFishId,a.lockFishId),game.RoomData.Instance.removeAudience(a.role.uid)},e=0,f=b.seatData;e<f.length;e++){var g=f[e];d(g)}else if(b.op==a.UpdateOperator.Delete)for(var h=0,i=b.seatData;h<i.length;h++){var g=i[h];game.RoomData.Instance.delectSeat(g.seatId)}else if(b.op==a.UpdateOperator.StandUp)for(var c=game.RoomData.Instance.seatList,j=function(a){var b=c.first(function(b){return b.seatId==a.seatId});if(null==b)return"continue";game.RoomData.Instance.addAudience(b.user),b.user=null,b.clearHandCard()},k=0,l=b.seatData;k<l.length;k++){var g=l[k];j(g)}}function d(b){if(b&&b.seatData&&b.seatData instanceof Array)if(game.RoomData.Instance.delectedSeatData=[],b.seatData.sort(function(a,b){return Math.abs(a.role.uid-uniLib.NetMgr.UID)-Math.abs(b.role.uid-uniLib.NetMgr.UID)}),b.op==a.UpdateOperator.Replace)game.MessageHandle.ReplaceSeatData(b.seatData);else if(b.op==a.UpdateOperator.Update)for(var c=game.RoomData.Instance.seatList,d=function(a){var b=c.first(function(b){return b.seatId==a.seatId});b||(b=new game.SeatData(a.seatId),game.RoomData.Instance.addSeat(b)),b.user||(b.user=new game.UserInfo(a.role.uid)),b.user.cardScore=a.cardScore,b.user.cutScore=a.cutScore,b.user.point=a.role.point,b.user.updataInfo(a.role),b.isReady=a.isReady,b.isInGame=a.isInGame,b.isSit=a.isSit,b.batteryIndex=a.batteryId,b.setLock(!!a.lockFishId,a.lockFishId),b.outCardList=a.outCardList},e=0,f=b.seatData;e<f.length;e++){var g=f[e];d(g)}else if(b.op==a.UpdateOperator.Delete){game.RoomData.Instance.delectedSeatData=b.seatData;for(var c=game.RoomData.Instance.seatList,h=function(a){var b=c.first(function(b){return b.seatId==a.seatId});if(null==b)return"continue";b.user=null,b.clearHandCard()},i=0,j=b.seatData;i<j.length;i++){var g=j[i];h(g)}}}function e(b){if(1!=game.RoomInfo.getInstance().video){var c=game.PokerFunction.GetUserInfoByUid(b.fromuid);if(c){var d=c.nickName+"请求和你更换座位?",e=function(){var c=new a.ReturnChangeSeatRoom_C;c.fromuid=b.fromuid,c.isAgree=1,game.PokerFunction.tcpSend(c)},f=function(){var c=new a.ReturnChangeSeatRoom_C;c.fromuid=b.fromuid,c.isAgree=0,game.PokerFunction.tcpSend(c)},g=new MJLobby.LobbyMsgBox(!1);g.setData("",d,["确定","取消"],[e,f],this),g.x=Math.round((MJLobby.LobbyDataCache.defaultWidth-g.width)/2),g.y=Math.round((MJLobby.LobbyDataCache.defaultHeight-g.height)/2),g.msgColor=16777215,uniLib.PopUpMgr.addPopUp(g,null,!0,!1)}}}function f(a){var b=a.update;b=b&&b instanceof Array?b:[];for(var c=0,d=b;c<d.length;c++){var e=d[c],f=game.PokerFunction.GetUserInfoByUid(e.uid);game.MessageHandle.updataMoney(f,e);var g=game.BankerData.Instance.banker;g&&g.uid==e.uid&&game.MessageHandle.updataMoney(g,e)}var h=a.moneyData;h=h&&h instanceof Array?h:[];for(var i=0,j=h;i<j.length;i++){var e=j[i],f=game.PokerFunction.GetUserInfoByUid(e.uid);null!=f&&(f.point=null!=e.chips?e.chips:0)}GX.PokerEvent.Instance.moneyUpdate.call(a)}function g(b){if(b.betDigit?(game.RoomData.Instance.betData=game.MessageHandle.refrenshBetData(b.betDigit,game.RoomData.Instance.betData),game.RoomData.Instance.betMeData=game.MessageHandle.refrenshBetData(b.betDigit,game.RoomData.Instance.betMeData)):b.betSum?(game.RoomData.Instance.betData=game.MessageHandle.refrenshDoorData(b.betSum,game.RoomData.Instance.betData),game.RoomData.Instance.betMeData=game.MessageHandle.refrenshDoorData(b.betSum,game.RoomData.Instance.betMeData)):b.betNumber&&(b.betNumber.uid&&b.betNumber.uid!=uniLib.NetMgr.UID||(game.RoomData.Instance.betMeData=game.MessageHandle.refrenshFourDoorData(b.betNumber,game.RoomData.Instance.betMeData)),game.RoomData.Instance.betData=game.MessageHandle.refrenshFourDoorData(b.betNumber,game.RoomData.Instance.betData)),b.bet){var c=game.GameId(),d=c>8500&&c<1e4,e=game.RoomData.Instance.doorDatas;if(e&&e.length>0){var f=e.first(function(a){return a.doorId==b.bet.doorId});if(!f)return;f.chipSum||(f.chipSum=0),f.chipSum=(10*f.chipSum+10*b.bet.chips)/10,b.bet.uid&&b.bet.uid!=uniLib.NetMgr.UID||(f.chipMain=(10*f.chipMain+10*b.bet.chips)/10,f.playMainAnimation.call(b.bet.chips),d&&b.opType==a.Operation.Cancel&&(f.chipSum-=f.chipMain,f.chipMain=0)),GX.PokerEvent.Instance.betRoomEvent.call(b)}d&&(b.bet.uid&&b.bet.uid!=uniLib.NetMgr.UID||(game.RoomData.Instance.betMeData=game.MessageHandle.refrenshFourDoorData(b.bet,game.RoomData.Instance.betMeData)),game.RoomData.Instance.betData=game.MessageHandle.refrenshFourDoorData(b.bet,game.RoomData.Instance.betData))}var g=b.act,h=null==b.uid?g?g.id:null:b.uid,i=game.PokerFunction.GetSeatDataByUid(h);if(i&&(b.chip&&(game.RoomData.Instance.tabPoints+=b.chip,i.curBetCount+=b.chip,i.betCount+=b.chip,game.RoomData.Instance.tabPointChange.call(game.RoomData.Instance.tabPoints)),g&&(null!=g.chipsBet&&(i.curBetCount=g.chipsBet),null!=g.chipsAdd&&(i.betCount+=g.chipsAdd),null!=g.chipsLeft&&(i.user.point=g.chipsLeft),null!=g.sumPot&&(game.RoomData.Instance.bottomPoint=g.sumPot),i.hasFord=null!=g.op&&g.op==a.Operation.Fold)),b.bulletinfo){var j=game.GameTime.serverNow(),k=game.PokerFunction.GetUserByUid(b.bulletinfo.uid);k&&(k.point-=b.bulletinfo.cost),j-b.bulletinfo.fireTime<1e3&&(b.bulletinfo.fireTime=j,game.Action.sendBulletEvent.call(b.bulletinfo))}GX.PokerEvent.Instance.userBetEvent.call(b)}function h(a){game.RoomData.Instance.pointBase=a.pointBase}function i(a){var b=game.PokerFunction.GetSeatDataByUid(a.uid);b&&(b.isReady=a.yesOrNo)}function j(a){game.RoomData.Instance.isEnableRound=!0}function k(a){game.RoomData.Instance.betMax=a.betChipsMax,null!=a.gameNbrCur?game.RoomData.Instance.roomCurrentInnings=a.gameNbrCur:game.RoomData.Instance.roomCurrentInnings+=1;for(var b=0,c=game.RoomData.Instance.seatList;b<c.length;b++){var d=c[b];d.catchCardNum=0,d.curBetCount=0,d.betCount=0}game.MessageHandle.updataTexas(a.texas),game.RoomData.Instance.startGame=!0,game.Action.startGameCmdEvent.call(a)}function l(a){if(a.update&&a.update instanceof Array)for(var b=0,c=a.update;b<c.length;b++){var d=c[b],e=game.PokerFunction.GetSeatDataBySeatId(d.seatId);null!=e&&(e.seatMultiple=d.multiple,e.user.uid==uniLib.NetMgr.UID&&(game.RoomData.Instance.multiple=d.multiple))}else a.multiple&&(game.RoomData.Instance.multiple=a.multiple)}function m(b){if(b){game.RoomData.Instance.startGame||(game.RoomData.Instance.startGame=!0),null!=b.lastCardNum&&(game.RoomData.Instance.lastCardNum=b.lastCardNum);var c=0;b.seatCardList=b.seatCardList&&b.seatCardList instanceof Array?b.seatCardList:[];for(var d=0,e=b.seatCardList;d<e.length;d++){var f=e[d],g=f.handCardList,h=f.catchCards,i=game.PokerFunction.GetSeatDataBySeatId(f.seatId);if(null!=i)if(i.user&&(i.user.isInGame=!0),i.kingNum=f.kingNum,i.betCount=i.betCount,f.kengPoint&&(i.KengPoint=f.kengPoint),f.recommend&&(i.recommendList=f.recommend),f.catchNum?i.catchCardNum=f.catchNum:i.handCardSum=null==f.handCardNum?g&&g instanceof Array?g.length:0:f.handCardNum,h){c=1;for(var j=0;j<h.length;j++)i.addHandCard(h[j],game.CardActionType.ADD,b.dealCardType)}else if(g&&g.length){var k=game.PokerFunction.handCardSort;if(k&&(g=k(g)),b.dealCardType){if(b.dealCardType==a.UpdateOperator.Update){for(var l=0;l<g.length;l++)i.replaceHandCard(l,g[l]);return void GX.PokerEvent.Instance.showBackCardsAnimation.call(i.user.uid)}}else{i.clearHandCard();for(var l=0;l<g.length;l++)i.addHandCard(g[l])}}}if(b.door&&b.door instanceof Array){var m=game.RoomData.Instance.doorDatas;if(m&&m.length>0)for(var n=function(a){var b=m.first(function(b){return b.doorId==a.doorId});if(null==b)return"continue";b.multiple=a.multiple,b.cardType=a.cardType,b.cardList=a.cardList,b.cardKey=a.keyCard},o=0,p=b.door;o<p.length;o++){var f=p[o];n(f)}}b.banker&&(game.BankerData.Instance.multiple=b.banker.multiple,game.BankerData.Instance.cardType=b.banker.cardType,game.BankerData.Instance.cardList=b.banker.cardList,game.BankerData.Instance.cardKey=b.banker.keyCard),b.leftCardList&&(game.RoomData.Instance.cardNoteVisible=!0,game.RoomData.Instance.leftCardList=b.leftCardList),GX.PokerEvent.Instance.dealCardEnd.call(b),GX.PokerEvent.Instance.dealCardAnimation.call(c),b.callCard&&b.callUid&&GX.PokerEvent.Instance.callCardEvent.call(b)}}function n(b){var c=b.update;if(c=c&&c instanceof Array?c:[],b.op==a.UpdateOperator.Update)for(var d=0,e=c;d<e.length;d++){var f=e[d];if(null!=f.user){var g=game.PokerFunction.GetSeatDataByUid(f.user.uid);if(null!=g){var h=f.cardSet;if(null!=h){var i=h.cardSet;i=i&&i instanceof Array?i:[];for(var j=0,k=i;j<k.length;j++){var l=k[j];g.addHandCard(l)}g.setCardtype(h.typ),g.setCardKey(h.key)}}}}else if(b.op==a.UpdateOperator.Replace)for(var m=0,n=c;m<n.length;m++){var f=n[m];if(null!=f.user){var g=game.PokerFunction.GetSeatDataByUid(f.user.uid);if(null!=g){g.clearHandCard();var h=f.cardSet;if(null!=h){var i=h.cardSet;i=i&&i instanceof Array?i:[];for(var o=0,p=i;o<p.length;o++){var l=p[o];g.addHandCard(l)}g.setCardtype(h.typ),g.setCardKey(h.key)}}}}else if(b.op==a.UpdateOperator.Delete)for(var q=0,r=c;q<r.length;q++){var f=r[q];if(null!=f.user){var g=game.PokerFunction.GetSeatDataByUid(f.user.uid);if(null!=g){g.clearHandCard();var h=f.cardSet;if(null!=h){var i=h.cardSet;i=i&&i instanceof Array?i:[];for(var s=0,t=i;s<t.length;s++){var l=t[s];g.removedHandCard(l)}g.setCardtype(h.typ),g.setCardKey(h.key)}}}}}function o(a){if(null!=uniLib.Global.lastPingUpTimestamp&&(uniLib.Global.lastPing=Date.now()-uniLib.Global.lastPingUpTimestamp,uniLib.Global.lastPingUpTimestamp=null),a.list){for(var b=0,c=a.list;b<c.length;b++){var d=c[b];if(!d.uid)return;d.cardList=null!=d.cardList&&d.cardList instanceof Array?d.cardList:[];var e=game.PokerFunction.GetSeatDataByUid(d.uid);if(null==e)return;null!=d.handcardNum?e.handCardSum=d.handcardNum:e.handCardSum-=d.cardList.length;for(var f=0,g=d.cardList;f<g.length;f++){var h=g[f];e.removedHandCard(h)}game.RoomData.Instance.removeLeftCard(d.cardList)}GX.PokerEvent.Instance.playCard.call(a)}else{if(!a.uid)return;a.cardList=null!=a.cardList&&a.cardList instanceof Array?a.cardList:[];var e=game.PokerFunction.GetSeatDataByUid(a.uid);if(null==e)return;null!=a.handcardNum?e.handCardSum=a.handcardNum:e.handCardSum-=a.cardList.length;for(var i=0,j=a.cardList;i<j.length;i++){var h=j[i];e.removedHandCard(h)}game.RoomData.Instance.removeLeftCard(a.cardList),GX.PokerEvent.Instance.playCard.call(a)}}function p(a){var b=game.PokerFunction.GetUserInfoBySeatId(a.seatId);if(b){var c=new game.OperateData;if(c.uid=b.uid,c.endTime=a.endTime,c.leftSec=a.leftSec,a.cardSetList&&a.cardSetList instanceof Array&&(null==c.cardSetList||!c.cardSetList.length)){c.cardSetList=new Array;for(var d=0,e=a.cardSetList;d<e.length;d++){var f=e[d];c.cardSetList.push(f.cardSet)}c.cardList||(c.cardList=new Array),c.cardList=a.cardSetList}a.opList=a.opList&&a.opList instanceof Array?a.opList:[],c.operateList=a.opList,c.opBit=a.opBit,c.cardListType=a.cardListType,c.raiseLine=a.raiseLine,c.continueCompare=a.continueCompare,c.actList=a.actList,1==a.isFirstOp?c.isFirstOp=!0:c.isFirstOp=!1,c.delay=null!=a.delay&&a.delay instanceof Array?a.delay:[],game.RoomData.Instance.operate=c}}function q(a){game.RoomData.Instance.setbottomCard(a.bottomCard,game.UpdataType.UPDATA),GX.PokerEvent.Instance.circleEndEvent.call(a)}function r(b){GX.PokerEvent.Instance.dissolveRoomUpdate.call(b),a.dispatch(MJLobby.MahJongLobbyFacadeConsts.DISSOLVE_UPDATA,b)}function s(a){var b=new game.RobLordOperateData;b.uid=a.uid,b.endTime=a.endTime,b.leftSec=a.leftSec,b.operateList=a.opList,game.RoomData.Instance.robLordOperate=b}function t(a){GX.PokerEvent.Instance.landlordRobResult.call(a)}function u(a){GX.PokerEvent.Instance.calllordRobResult.call(a)}function v(a){GX.PokerEvent.Instance.kickPlay.call(a)}function w(a){if(a.uid){var b=new game.KickOperateData;b.uid=a.uid,b.endTime=a.endTime,b.leftSec=a.leftSec,game.RoomData.Instance.kickOperate=b}}function x(a){if(game.RoomData.Instance.landlordUid=a.uid,a.threeCard){game.RoomData.Instance.threeCard=a.threeCard;var b=game.PokerFunction.GetSeatDataByUid(a.uid);if(null==b)return;if(b.handCardSum+=a.threeCard.length,a.uid==uniLib.NetMgr.UID||1==game.RoomInfo.getInstance().video){var c=b.handCards.deepcopy();b.clearHandCard();for(var d=0,e=a.threeCard;d<e.length;d++){var f=e[d];c.push(f)}var g=game.PokerFunction.handCardSort;g&&(c=g(c));for(var h=0,i=c;h<i.length;h++){var f=i[h];b.addHandCard(f)}game.RoomData.Instance.removeLeftCard(a.threeCard)}GX.PokerEvent.Instance.threeCardAnimation.call()}}function y(b){if(null!=b.code)return void(b.msgType==a.SysMessageCmd_S.MsgType.Bounce?GX.Tips.showPopup(game.Language.TranslateByCode(b.code)):b.msgType==a.SysMessageCmd_S.MsgType.Text&&GX.Tips.showTips(game.Language.TranslateByCode(b.code)));var c=GX.PokerEvent.Instance.systemMessage;if(c.length<=0)switch(b.msgType){case a.SysMessageCmd_S.MsgType.Text:GX.Tips.showTips(b.msg);break;case a.SysMessageCmd_S.MsgType.Bounce:GX.Tips.showPopup(b.msg)}else c.call(b)}function z(a){var b=a.uid?a.uid:uniLib.NetMgr.UID,c=game.PokerFunction.GetSeatDataByUid(b);c&&(c.user=null,c.clearHandCard()),b==uniLib.NetMgr.UID&&(null!=uniLib.Global.lastPingUpTimestamp&&(uniLib.Global.lastPing=Date.now()-uniLib.Global.lastPingUpTimestamp,uniLib.Global.lastPingUpTimestamp=null),GX.PokerEvent.Instance.leaveRoom.call(a))}function A(a){null!=uniLib.Global.lastPingUpTimestamp&&(uniLib.Global.lastPing=Date.now()-uniLib.Global.lastPingUpTimestamp,uniLib.Global.lastPingUpTimestamp=null),GX.PokerEvent.Instance.leaveRoom.call(a)}function B(a){null!=uniLib.Global.lastPingUpTimestamp&&(uniLib.Global.lastPing=Date.now()-uniLib.Global.lastPingUpTimestamp,uniLib.Global.lastPingUpTimestamp=null),GX.PokerEvent.Instance.leaveRoom_Brd.call(a)}function C(b){if(!b.isReplenish)for(var c=0,d=game.RoomData.Instance.seatList;c<d.length;c++){var e=d[c];e.isReady=!1,e.betCount=0,e.curBetCount=0}if(b.resultList&&b.resultList instanceof Array)for(var f=0,g=b.resultList;f<g.length;f++){var e=g[f];if(e.user){var h=game.PokerFunction.GetUserInfoByUid(e.user.uid);null!=h&&(e.user.gender=h.gender,e.user.name=h.nickName,e.user.headurl=h.headUrl)}}GX.PokerEvent.Instance.roundResult.call(b);var i=new a.History.HistoryInfo;i.roundWinLose=b.winLose,i.lottery=b.lottery,b.myData&&(i.profit=b.myData.profit),b.happyPoint&&(game.RoomData.Instance.happyPoint=b.happyPoint),game.RoomData.Instance.addRoundWinLose(i);var j=b.resultList;if(j)for(var k=0,l=j;k<l.length;k++){var e=l[k];if(null!=e.user){var m=game.PokerFunction.GetUserInfoByUid(e.user.uid);m&&null!=e.user.point&&(m.point=e.user.point)}}for(var n=0,o=game.RoomData.Instance.seatList;n<o.length;n++){var e=o[n];e.user&&(e.user.isInGame=!1)}}function D(b){var c=game.PokerFunction.GetUserInfoByUid(b.uid);c&&(c.isTrust=b.yesOrNo);var d=game.PokerFunction.GetSeatDataByUid(b.uid);null!=d&&(null==b.hostType||1!=b.hostType&&2!=b.hostType?null!=b.hostType&&0==b.hostType&&(d.onlineState=a.OnlineState.OnlineState_Online):d.onlineState=a.OnlineState.OnlineState_Hosting)}function E(a){if(a.recordList&&a.recordList instanceof Array)for(var b=0,c=a.recordList;b<c.length;b++){var d=c[b],e=d.user;if(e){var f=game.PokerFunction.GetUserInfoByUid(e.uid);f&&(e.gender=e.gender?e.gender:f.gender,e.name=e.name?e.name:f.nickName,e.headurl=e.headurl?e.headurl:f.headUrl)}}a.isNew?(game.RoomData.Instance.fianlData=null,game.RoomData.Instance.fianlData=a):GX.PokerEvent.Instance.gameFinalSettle.call(a)}function F(a){game.GameTime.responseSync(a.stamp)}function G(a){GX.PokerEvent.Instance.gmAvailableCardUpdate.call(a)}function H(a){if(null!=a.DoorChips&&a.DoorChips instanceof Array){var b=game.RoomData.Instance.doorDatas;if(b&&b.length>0)for(var c=function(a){var c=b.first(function(b){return b.doorId==a.doorId}),d=0;d=c.chipSum?(10*a.chips-10*c.chipSum)/10:a.chips,c.chipSum=a.chips,c.playAllAnimation.call(d)},d=0,e=a.DoorChips;d<e.length;d++){var f=e[d];c(f)}var g=game.GameId();if(g>8500&&g<1e4){for(var h=game.RoomData.Instance.betData,i=function(a){if(h){var b=h.betNumber.first(function(b){return b.doorId==a.doorId});null!=b&&(b.chips=a.chips)}},j=0,k=a.DoorChips;j<k.length;j++){var f=k[j];i(f)}game.RoomData.Instance.betData=h}}}function I(a){null==a||null!=a&&null==a.betData||game.MessageHandle.refrenshAllBetData(a.betData)}function J(b){if(GX.PokerEvent.Instance.gameStateUpdate.call(b.statusInfo,b),null!=b.statusInfo){var c=b.statusInfo;if(game.Timer.clearTimeout(a.settleTimer),c.status==a.GameStatus.GameStatus_Settle){var d=game.PokerFunction.MainUser;if(null==d)return;var e=game.GameId(),f=d.point,g=game.GameTime.serverNow(),h=c.endTime-g;h-=8507==e?6e3:3e3,h=h>0?h:0,a.settleTimer=game.Timer.setTimeout(function(){if(null!=d){var a=d.point-f;a>0&&uniLib.Global.dispatchEvent(uniLib.CustomEvent.ClientSettleFinish,{awardPoint:a})}},this,h)}}}function K(b){if(b.waitList=b.waitList&&b.waitList instanceof Array?b.waitList:[],b.op==a.UpdateOperator.Replace)game.RoomData.Instance.bankerWait=b.waitList;else if(b.op==a.UpdateOperator.Update){for(var c=game.RoomData.Instance.bankerWait,d=function(a){var b=c.first(function(b){return b.uid==a.uid});if(!b)return c.push(a),"continue";b.gender=b.gender,b.point=b.point,b.headurl=b.headurl,b.name=b.name},e=0,f=b.waitList;e<f.length;e++){var g=f[e];d(g)}game.RoomData.Instance.bankerWait=c,game.RoomData.Instance.bankerWaitChanged.call(c)}else if(b.op==a.UpdateOperator.Delete){var c=game.RoomData.Instance.bankerWait;c.removeAll(function(a){return b.waitList.seek(function(b){return b.uid==a.uid})}),game.RoomData.Instance.bankerWaitChanged.call(c)}}function L(a){if(a.banker){var b=game.BankerData.Instance.banker;if(!b||b.uid!=a.banker.uid){var c=new game.UserInfo(a.banker.uid);game.BankerData.Instance.banker=c}b=game.BankerData.Instance.banker,b.updataInfo(a.banker)}GX.PokerEvent.Instance.bankerDataUpdate.call(a)}function M(a){game.RoomData.Instance.setbottomCard(a.bottomCard,game.UpdataType.UPDATA,a.num)}function N(a){GX.PokerEvent.Instance.rankUpdateMulticast.call(a)}function O(a){GX.PokerEvent.Instance.historyUpdate.call(a)}function P(a){var b=game.PokerFunction.GetSeatDataByUid(a.uid);b&&(b.onlineState=a.state)}function Q(a){GX.PokerEvent.Instance.SendGiftEvent.call(a)}function R(a){a&&GX.PokerEvent.Instance.userSeatdown.call(a)}function S(a){GX.PokerEvent.Instance.showCardsEvent.call(a)}function T(a){game.RoomData.Instance.startGameOpId=a.startGameOpId}function U(b){if(null!=b){var c=game.PokerFunction.GetSeatDataByUid(b.uid);if(null!=c){var d=c.seatStateList;if(b.stateList=null!=b.stateList&&b.stateList instanceof Array?b.stateList:[],b.op==a.UpdateOperator.Delete)d.removeAll(function(a){return b.stateList.seek(function(b){return b==a})});else if(b.op==a.UpdateOperator.Update)for(var e=function(a){var b=d.first(function(b){return b==a});if(c.addSeatState=a,!b)return d.push(a),"continue"},f=0,g=b.stateList;f<g.length;f++){var h=g[f];e(h)}else(b.op=a.UpdateOperator.Replace)&&(d=b.stateList);c.seatStateList=d}}}function V(a){GX.PokerEvent.Instance.NiuNiuTipsEvent.call(a)}function W(a){if(GX.PokerEvent.Instance.DisplayCardEvent.call(a),a.each)for(var b=a.each,c=0;c<b.length;c++){var d=b[c];if(d.kengPoint){var e=game.PokerFunction.GetSeatDataByUid(d.user.uid);e.KengPoint=d.kengPoint}}}function X(a){if(a.seatCardList&&a.seatCardList.length)for(var b=0,c=a.seatCardList;b<c.length;b++){var d=c[b],e=game.PokerFunction.GetSeatDataBySeatId(d.seatId);e.showHandCardEvent.call(d.handCardList,e.user.uid)}a.circleEnd&&(game.RoomData.Instance.setbottomCard(a.circleEnd.bottomCard,game.UpdataType.UPDATA),GX.PokerEvent.Instance.circleEndEvent.call(a.circleEnd)),GX.PokerEvent.Instance.insuranceStartEvent.call(a)}function Y(a){GX.PokerEvent.Instance.InsuranceNewOpEvent.call(a)}function Z(a){GX.PokerEvent.Instance.insuranceBuyEvent.call(a)}function $(a){GX.PokerEvent.Instance.insuranceBuyEvent.call(a)}function _(a){GX.PokerEvent.Instance.buyBringEvent.call(a,!0)}function aa(b){for(var c=0;c<b.number.length;c++)switch(b.number[c].typ){case a.GameNumber.Type.PointBase:game.RoomData.Instance.pointBase=b.number[c].value;break;case a.GameNumber.Type.PointBottom:game.RoomData.Instance.bottomPoint=b.number[c].value;break;case a.GameNumber.Type.Pan:game.RoomData.Instance.tabPoints=b.number[c].value,game.RoomData.Instance.tabPointChange.call(game.RoomData.Instance.tabPoints);break;case a.GameNumber.Type.Pool:game.RoomData.Instance.chipPoolNum=b.number[c].value}}function ba(a){GX.PokerEvent.Instance.VoteUpdate.call(a)}function ca(a){a.actList&&GX.PokerEvent.Instance.ActionUpdate.call(a.actList)}function da(a){GX.PokerEvent.Instance.compareResultEvent.call(a)}function ea(a){game.RoomData.Instance.smallBlind=a.smallBlind,game.RoomData.Instance.blindLeftSec=a.leftSec}function fa(b){var c=b.collect;if(null!=c&&c instanceof Array)if(b.op==a.UpdateOperator.Replace)game.CustomData.collectionList=c;else if(b.op==a.UpdateOperator.Delete)for(var d=function(a){game.CustomData.collectionList.deletefirst(function(b){return b==a})},e=0,f=c;e<f.length;e++){var g=f[e];d(g)}else if(b.op==a.UpdateOperator.Update)for(var h=function(a){game.CustomData.collectionList.seek(function(b){return b==a})||game.CustomData.collectionList.push(a)},i=0,j=c;i<j.length;i++){var g=j[i];h(g)}else game.CustomData.collectionList=c}function ga(a){GX.PokerEvent.Instance.collectResultEvent.call(a)}function ha(a){GX.PokerEvent.Instance.straddleChange.call(a)}function ia(a){game.Action.rankingListEvent.call(a)}function ja(a){GX.PokerEvent.Instance.PlayingUpdateEvent.call(a)}function ka(a){GX.PokerEvent.Instance.AudienceUpdate.call(a)}function la(a){for(var b=game.GameTime.serverNow(),c=0,d=a.fishlist;c<d.length;c++){var e=d[c];if(b-e.spawnTime>1e3)return;e.spawnTime=b}game.Action.spawnFishEvent.call(a)}function ma(a){game.Action.hitFishEvent.call(a)}function na(a){for(var b=0,c=a.list;b<c.length;b++){var d=c[b],e=game.PokerFunction.GetUserByUid(d.uid);if(e)for(var f=0,g=d.list;f<g.length;f++){var h=g[f];e.point+=h.score}}game.Action.deadFishEvent.call(a)}function oa(a){game.Action.changeSceneEvent.call(a)}function pa(b){var c=b.act,d=game.PokerFunction.GetSeatDataByUid(c.uid);d&&(c.op==a.Operation.ChangeBattery?d.batteryIndex=c.value:c.op==a.Operation.Lock?d.setLock(!0,c.value):c.op==a.Operation.Unlock&&d.setLock(!1,null)),game.Action.actionEvent.call(b)}function qa(b){if(!a.betTimeoutTipsPanel||!a.betTimeoutTipsPanel.parent){var c=game.Config.BetTimeout;if(!c||0==c){var d=new a.LeaveRoomCmd_CS;return void game.PokerFunction.tcpSend(d)}var e=b.optype,f=1==e?"金币不足，"+c+"秒后退出！":(c+"").padLeft(2,"0"),g=new game.BetTimeoutTipsPanel;a.betTimeoutTipsPanel=g,g.touchEnabled=!1,g.touchChildren=!1,g.x=(uniLib.Global.screenWidth-g.width)/2,g.y=(uniLib.Global.screenHeight-g.height)/2,1==e?g.setLabel(f):g.setBitmapLabel(f),GX.GameLayerManager.addUIToPop(g),g.timer=game.Timer.setInterval(function(){c--,c=c<0?0:c;var b=1==e?"金币不足，"+c+"秒后退出！":(c+"").padLeft(2,"0");if(1==e?g.setLabel(b):g.setBitmapLabel(b),0==c){var d=new a.LeaveRoomCmd_CS;game.PokerFunction.tcpSend(d),g.close()}},this,1e3)}}a.OnRoomDataUpdateCmd_S=b,a.OnRoomSeatUpdateCmd_S=c,a.OnSeatDataUpdateCmd_S=d,a.OnRequestChangeSeatRoom_S=e,a.OnMoneyUpdateCmd_S=f,a.OnBetRoomCmd_CS=g,a.OnPointBaseUpdateCmd_S=h,a.OnReadyUpdateRoomCmd_CS=i,a.OnEnableRoundCmd_CS=j,a.OnStartGameCmd_S=k,a.OnMultipleUpdateCmd_S=l,a.OnDealCardCmd_S=m,a.OnHandCardUpdateCmd_S=n,a.OnPlayCardCmd_CS=o,a.OnNewOperateSeatCmd_S=p,a.OnCircleEndCmd_S=q,a.OnDissolveRoomUpdateCmd_S=r,a.OnLandlordOptionCmd_S=s,a.OnLandlordRobCmd_CS=t,a.OnLandlordCallCmd_CS=u,a.OnKickPlayCmd_CS=v,a.OnKickPlayOptionalCmd_S=w,a.OnLandlordUpdateCmd_S=x,a.OnSysMessageCmd_S=y,a.OnLeaveRoomCmd_CS=z,a.OnLeaveRoomCmd_S=A,a.OnLeaveRoomCmd_Brd=B,a.OnRoundResultCmd_S=C,a.OnHostUpdateRoomCmd_CS=D,a.OnFinalResult_S=E,a.OnGameTimeSyncCmd_CS=F,a.OnGmAvailableCardUpdateCmd_CS=G,a.OnDoorUpdataCmd_S=H,a.OnBetUpdateCmd_S=I,a.settleTimer=0,a.OnGameStatusUpdateCmd_S=J,a.OnBankerWaitListUpdateCmd_S=K,a.OnBankerUpdateCmd_S=L,a.OnBottomCardUpdateCmd_S=M,a.OnRankUpdateCmd_S=N,a.OnHistoryUpdateCmd_CS=O,a.OnOnlineStateRoomCmd_S=P,a.OnSendGiftRoomCmd_Brd=Q,a.OnSitDownCmd_CS=R,a.OnShowCards_S=S,a.OnStartGameOpIdUpdate_S=T,a.OnSeatStateUpdate_S=U,a.OnNeedNiuNiuCard_S=V,a.OnDisplayCardCmd_CS=W,a.OnInsuranceStartCmd_S=X,a.OnInsuranceNewOpCmd_S=Y,a.OnInsuranceBuyCmd_CS=Z,a.OnInsuranceBuyEndCmd_S=$,a.OnRoomBuyBringCmd_CS=_,a.OnGameNumberUpdateCmd_S=aa,a.OnVoteUpdateCmd_S=ba,a.OnUpdateActionCmd_S=ca,a.OnCompareCardCmd_CS=da,a.OnRiseBlindCmd_S=ea,a.OnRoundRecordIdUpdateCmd_CS=fa,a.OnRoundRecordCollectCmd_CS=ga,a.OnStraddleIdUpdateCmd_S=ha,a.OnRankingListCmd_CS=ia,a.OnPlayingUpdateCmd_CS=ja,a.OnAudienceUpdateCmd_CS=ka,a.OnSpawnFishCmd_S=la,a.OnHitFishCmd_CS=ma,a.OnDeadFishCmd_S=na,a.OnChangeSceneCmd_S=oa,a.OnActionCmd_CS=pa,a.OnBetTimeoutRoomCmd_S=qa}(Cmd||(Cmd={}));var game;!function(a){var b=function(){function b(){}return b.ReplaceSeatData=function(b){if(null!=b&&b instanceof Array){for(var c=0,d=a.RoomData.Instance.seatList;c<d.length;c++){var e=d[c];e.user=null,e.clearHandCard(),e.setCardtype(Cmd.CardSetType.CardSetType_None),e.curBetCount=0}a.RoomData.Instance.clearSeatList();for(var f=function(b){var c=a.RoomData.Instance.seatList.first(function(a){return a.seatId==b.seatId});if(c||(c=new a.SeatData(b.seatId),b.role&&(c.user=new a.UserInfo(b.role.uid)),a.RoomData.Instance.addSeat(c)),null==b.role)return"continue";c.user=new a.UserInfo(b.role.uid),c.user.updataInfo(b.role),c.user.isTrust=b.isHost,c.isReady=!1,c.isReady=b.isReady,c.isInGame=b.isInGame,c.outCardList=b.outCardList,c.placeCards=b.placeCardList,c.isSit=b.isSit,c.seatStateList=b.stateList,c.recommendList=b.recommend,c.batteryIndex=b.batteryId,c.setLock(!!b.lockFishId,b.lockFishId),null==b.onlineState&&(b.onlineState=Cmd.OnlineState.OnlineState_Online),c.onlineState=b.onlineState},g=0,h=b;g<h.length;g++){var e=h[g];f(e)}for(var i=!1,j=0,k=b;j<k.length;j++){var e=k[j];if(i=!(!e.handCardList||!e.handCardList.length))break}a.RoomData.Instance.startGame=i;for(var l=function(b){var c=a.RoomData.Instance.seatList.first(function(a){return a.seatId==b.seatId}),d=b.handCardList;if(c&&c.user&&c.user.uid==uniLib.NetMgr.UID&&(a.RoomData.Instance.multiple=b.multiple),c.handCardSum=null==b.handCardNum?0:b.handCardNum,c.kingNum=b.kingNum,!d||!d.length)return"continue";c.clearHandCard();var e=a.PokerFunction.handCardSort;e&&(d=e(d));for(var f=0,g=d;f<g.length;f++){var h=g[f];c.addHandCard(h,a.CardActionType.RECONNEC)}c.KengPoint=b.kengPoint},m=0,n=b;m<n.length;m++){var e=n[m];l(e)}GX.PokerEvent.Instance.dealCardEnd.call();for(var o=function(b){var c=a.RoomData.Instance.seatList.first(function(a){return a.seatId==b.seatId});if(!c.user)return"continue";c.user.cutScore=b.cutScore,c.user.cardScore=b.cardScore,c.listened=1==b.listened,b.betCount&&(c.curBetCount=Number((b.betCount+"").split(".")[1]),c.betCount=Math.floor(b.betCount))},p=0,q=b;p<q.length;p++){var e=q[p];o(e)}}},b.ReplaceAudienceList=function(b){b=b&&b instanceof Array?b:[],a.RoomData.Instance.clearAudienceList();for(var c=function(b){if(!b.user)return"continue";var c=a.RoomData.Instance.audienceList.first(function(a){return a.uid==b.user.uid});c||(c=new a.UserInfo(b.user.uid),a.RoomData.Instance.addAudience(c)),c.updataInfo(b.user),c.statistics=b.statistics},d=0,e=b;d<e.length;d++){var f=e[d];c(f)}GX.PokerEvent.Instance.audienceUpdataEvent.call(b)},b.ReplaceRoundData=function(c){if(null!=c&&null!=c.roundData){var d=c.roundData;a.MessageHandle.updataTexas(d.texas);var e=a.RoomData.Instance;if(null!=d.status){var f=new Cmd.GameStatusInfo;f.status=d.status,f.leftSec=d.leftSec,f.endTime=d.opEndTime,GX.PokerEvent.Instance.gameStateUpdate.call(f)}if(e.threeCard=d.threeCard,d.tabPoints&&(a.RoomData.Instance.tabPoints=d.tabPoints,a.RoomData.Instance.relogTabPointsEvent.call(e.tabPoints)),d.betDoor&&b.refrenshAllBetData(d.betDoor),d.betMe){b.refrenshMeBetData(d.betMe);var g=d.betMe?d.betMe.betNumber:[];g=g&&g instanceof Array?g:[];var h=a.RoomData.Instance.doorDatas;if(h&&h.length>0)for(var i=function(a){var b=h.first(function(b){return b.doorId==a.doorId});if(!b)return{value:void 0};b.chipMain=a.chips},j=0,k=g;j<k.length;j++){var l=k[j],m=i(l);if("object"==typeof m)return m.value}}d.bottomCard&&a.RoomData.Instance.setbottomCard(d.bottomCard,a.UpdataType.RECONNEC),null!=d.lastCardNum&&(a.RoomData.Instance.lastCardNum=d.lastCardNum),null!=d.multiple&&(a.RoomData.Instance.multiple=d.multiple),null!=d.straddleId&&(a.RoomData.Instance.straddleId=d.straddleId),GX.PokerEvent.Instance.rankListMulticast.call(d.rankList);var n=a.PokerFunction.GetSeatDataBySeatId(d.lordSeatId);n&&(e.landlordUid=n.user.uid),null!=d.pointBase&&(a.RoomData.Instance.pointBase=d.pointBase);var o=a.PokerFunction.GetUserInfoBySeatId(d.opSeatId);if(o)if(d.callLordData){var p=new a.RobLordOperateData;p.uid=o.uid,p.endTime=d.opEndTime,p.leftSec=d.leftSec,d.opList&&d.opList instanceof Array&&(p.operateList=d.opList),e.robLordOperate=p;var q=d.callLordData;if(q.call0&&q.call0.length>0)for(var r=0,s=q.call0;r<s.length;r++){var l=s[r],t=new Cmd.LandlordCallCmd_CS;t.uid=a.PokerFunction.GetUserInfoBySeatId(l).uid,t.point=0,GX.PokerEvent.Instance.calllordRobResult.call(t)}if(q.call1&&q.call1.length>0)for(var u=0,v=q.call1;u<v.length;u++){var l=v[u],t=new Cmd.LandlordCallCmd_CS;t.uid=a.PokerFunction.GetUserInfoBySeatId(l).uid,t.point=1,GX.PokerEvent.Instance.calllordRobResult.call(t)}if(q.call2&&q.call2.length>0)for(var w=0,x=q.call2;w<x.length;w++){var l=x[w],t=new Cmd.LandlordCallCmd_CS;t.uid=a.PokerFunction.GetUserInfoBySeatId(l).uid,t.point=2,GX.PokerEvent.Instance.calllordRobResult.call(t)}if(q.call3&&q.call3.length>0)for(var y=0,z=q.call3;y<z.length;y++){var l=z[y],t=new Cmd.LandlordCallCmd_CS;t.uid=a.PokerFunction.GetUserInfoBySeatId(l).uid,t.point=3,GX.PokerEvent.Instance.calllordRobResult.call(t)}if(q.call4&&q.call4.length>0)for(var A=0,B=q.call4;A<B.length;A++){var l=B[A],t=new Cmd.LandlordCallCmd_CS;t.uid=a.PokerFunction.GetUserInfoBySeatId(l).uid,t.point=4,GX.PokerEvent.Instance.calllordRobResult.call(t)}if(q.call5&&q.call5.length>0)for(var C=0,D=q.call5;C<D.length;C++){var l=D[C],t=new Cmd.LandlordCallCmd_CS;t.uid=a.PokerFunction.GetUserInfoBySeatId(l).uid,t.point=5,GX.PokerEvent.Instance.calllordRobResult.call(t)}}else{if(d.robLordData){var E=d.robLordData.sayNo;if(E)for(var F=0,G=E;F<G.length;F++){var l=G[F],H=a.PokerFunction.GetUserInfoBySeatId(l);if(null!=H){var I=new Cmd.LandlordRobCmd_CS;I.uid=H.uid,I.yesOrNo=!1,GX.PokerEvent.Instance.landlordRobResult.call(I)}}var J=d.robLordData.sayYes;if(J)for(var K=0,L=J;K<L.length;K++){var l=L[K],M=a.PokerFunction.GetUserInfoBySeatId(l);if(null!=M){var I=new Cmd.LandlordRobCmd_CS;I.uid=M.uid,I.yesOrNo=!0,GX.PokerEvent.Instance.landlordRobResult.call(I)}}var N=new a.RobLordOperateData;return N.uid=o.uid,N.endTime=d.opEndTime,N.leftSec=d.leftSec,d.opList&&d.opList instanceof Array&&(N.operateList=d.opList),void(e.robLordOperate=N)}if(d.kickData){var E=d.kickData.sayNo;if(E)for(var O=0,P=E;O<P.length;O++){var l=P[O],Q=a.PokerFunction.GetUserInfoBySeatId(l);if(null!=Q){var R=new Cmd.KickPlayCmd_CS;R.uid=Q.uid,R.yesOrNo=!1,GX.PokerEvent.Instance.kickPlay.call(R)}}var J=d.kickData.sayYes;if(J)for(var S=0,T=J;S<T.length;S++){var l=T[S],U=a.PokerFunction.GetUserInfoBySeatId(l);if(null!=U){var R=new Cmd.KickPlayCmd_CS;R.uid=U.uid,R.yesOrNo=!0,GX.PokerEvent.Instance.kickPlay.call(R)}}var V=new a.KickOperateData;return V.uid=o.uid,V.endTime=d.opEndTime,void(e.kickOperate=V)}for(var W=c.seatList,X=!0,Y=0,Z=W;Y<Z.length;Y++){var l=Z[Y];if(X=!0,null!=l.role){var $=new Cmd.PlayCardCmd_CS;$.uid=l.role.uid,!l.outCardList&&l.handCardNum>=17||($.cardList=l.outCardList,l.role.uid!=uniLib.NetMgr.UID&&l.outCardList instanceof Array&&(X=!1),GX.PokerEvent.Instance.playCard.call($,!1))}}var _=new a.OperateData;if(_.uid=o.uid,_.endTime=d.opEndTime,_.leftSec=d.leftSec,_.raiseLine=d.raiseLine,_.actList=d.actList,X&&(_.isFirstOp=!0),d.opList&&d.opList instanceof Array&&(_.operateList=d.opList),d.recommend&&d.recommend instanceof Array&&(null==_.cardSetList||!_.cardSetList.length)){_.cardSetList=new Array;for(var aa=0,ba=d.recommend;aa<ba.length;aa++){var l=ba[aa];_.cardSetList.push(l.cardSet)}_.cardList=d.recommend}e.operate=_}}},b.HBRoomDataUpdate=function(b){a.BankerData.Instance.banker=null;var c=b.roomData.banker;if(c){var d=new a.UserInfo(c.uid);d.headUrl=c.headurl,d.nickName=c.name,d.point=c.point,a.BankerData.Instance.banker=d}a.RoomData.Instance.bankerWait=b.roomData.bankerWait,b.roomData.history&&(a.RoomData.Instance.roundWinLose=b.roomData.history.data);var e=b.roomData.roundData;if(null!=e){if(a.RoomData.Instance.betMax=e.betChipsMax,e.doorChipsSum&&e.doorChipsSum instanceof Array)for(var f=function(b){var c=a.RoomData.Instance.doorDatas;if(c&&c.length>0){var d=c.first(function(a){return a.doorId==b.doorId});if(d.chipSum=b.chips,d.playAllAnimation.call(d.chipSum,b.potId,b.doorId),b.actList&&b.actList.length>0){var e=new Cmd.BetRoomCmd_CS;e.actList=b.actList,e.betNumber=b,e.act=new Cmd.Action,b.actList&&b.actList.length>0&&(e.act.timestamp=b.actList[0].timestamp),GX.PokerEvent.Instance.userBetEvent.call(e)}}var f=a.GameId();f>8500&&f<1e4&&(a.RoomData.Instance.betData=a.MessageHandle.refrenshFourDoorData(b,a.RoomData.Instance.betData))},g=0,h=e.doorChipsSum;g<h.length;g++){var i=h[g];f(i)}if(e.doorChipsMe&&e.doorChipsMe instanceof Array){var j=a.RoomData.Instance.doorDatas;if(j&&j.length>0)for(var k=function(a){j.first(function(b){return b.doorId==a.doorId}).chipMain=a.chips},l=0,m=e.doorChipsMe;l<m.length;l++){var i=m[l];k(i)}}if(e.doorCard&&e.doorCard instanceof Array){var j=a.RoomData.Instance.doorDatas;if(j&&j.length>0)for(var n=function(a){var b=j.first(function(b){return b.doorId==a.doorId});b.cardList=a.cardList,b.cardType=a.cardType,b.multiple=a.multiple},o=0,p=e.doorCard;o<p.length;o++){var i=p[o];n(i)}}e.bankerCard&&(a.BankerData.Instance.cardList=e.bankerCard.cardList,a.BankerData.Instance.cardType=e.bankerCard.cardType,a.BankerData.Instance.multiple=e.bankerCard.multiple),b.roomData.pointLimit&&(a.RoomData.Instance.pointLimit=b.roomData.pointLimit)}},b.showTipsEvent=function(a){var b=!1,c=!1;if(a.roomData&&a.roomData.statusInfo){var d=a.roomData.statusInfo.status;b=d==Cmd.GameStatus.GameStatus_Lottery||d==Cmd.GameStatus.GameStatus_Settle}if(a.roomData.roundData&&a.roomData.roundData.doorChipsMe){for(var e=0,f=0,g=a.roomData.roundData.doorChipsMe;f<g.length;f++){e+=g[f].chips}c=0==e}b&&c&&GX.PokerEvent.Instance.showSurrenderTipsHandle.call(a)},b.updataTexas=function(b){if(null!=b){a.BankerData.Instance.banker=a.PokerFunction.GetUserInfoBySeatId(b.dealer),a.RoomData.Instance.smallBlind=b.smallBlind;var c=b.playerList;c=c&&c instanceof Array?c:[];for(var d=0,e=c;d<e.length;d++){var f=e[d],g=a.PokerFunction.GetSeatDataBySeatId(f.seatId);if(null!=g&&null!=g.user){g.user.point=f.point;var h=f.act;h&&h.chipsBet&&(g.curBetCount=f.act.chipsBet),h&&h.op&&(g.Operate=h.op),g.hasFord=null!=h&&null!=h.op&&h.op==Cmd.Operation.Fold;var i=null!=f.cardSet&&null!=f.cardSet.typ?f.cardSet.typ:Cmd.CardSetType.CardSetType_None;g.setCardtype(i)}}b.sumPot&&(a.RoomData.Instance.bottomPoint=b.sumPot),GX.PokerEvent.Instance.texasRoundChanged.call(b)}},b.updataTexasConfig=function(b){null!=b&&(a.PlayList.Instance.playList=b.playList,a.RoomData.Instance.smallBlind=a.PlayList.Instance.smallblind,GX.PokerEvent.Instance.texasConfigChange.call(b))},b.updataMoney=function(a,b){a&&b&&(b.money==Cmd.MoneyType.Point?a.point=b.num:b.money==Cmd.MoneyType.CardScore?a.cardScore=b.num:b.money==Cmd.MoneyType.CutScore?a.cutScore=b.num:b.money==Cmd.MoneyType.Diamond&&(a.diamond=b.num))},b.refrenshBetData=function(a,c){if(null!=a&&null!=c){var d=c;return a.digit==Cmd.DigitChips.Digit.One?d.betDigit.one=b.refrenshList(a,d.betDigit.one):a.digit==Cmd.DigitChips.Digit.Ten?d.betDigit.ten=b.refrenshList(a,d.betDigit.ten):a.digit==Cmd.DigitChips.Digit.Hundred?d.betDigit.hundred=b.refrenshList(a,d.betDigit.hundred):a.digit==Cmd.DigitChips.Digit.Thousand&&(d.betDigit.thousand=b.refrenshList(a,d.betDigit.thousand)),d}},b.refrenshDoorData=function(a,b){if(null!=a&&null!=b){var c,d=b;return c=null==a.place?d.betSum.first(function(b){return b.doorId==a.doorId}):d.betSum.first(function(b){return b.doorId==a.doorId&&b.place==a.place}),null!=c&&(c.chips=(10*c.chips+10*a.chips)/10),d}},b.refrenshFourDoorData=function(a,b){if(null!=b&&null!=a){var c=b,d=c.betNumber.first(function(b){return b.doorId==a.doorId});return null!=d&&(d.chips=(10*d.chips+10*a.chips)/10),c}},b.refrenshList=function(a,b){b=null!=b&&b instanceof Array?b:[];var c=b.first(function(b){return b.number==a.number});return null!=c&&(c.chips=c.chips+a.chips),b},b.refrenshAllBetData=function(c){var d=a.RoomData.Instance.betData;if(!a.RoomData.Instance.betData)return void(a.RoomData.Instance.betData=c);d=a.RoomData.Instance.betData,null!=c&&(c.betDigit&&(d.betDigit.one=b.assignmentList(c.betDigit.one,d.betDigit.one),d.betDigit.ten=b.assignmentList(c.betDigit.ten,d.betDigit.ten),d.betDigit.hundred=b.assignmentList(c.betDigit.hundred,d.betDigit.hundred),d.betDigit.thousand=b.assignmentList(c.betDigit.thousand,d.betDigit.thousand)),c.betSum&&(d.betSum=b.assignmentDoorList(c.betSum,d.betSum)),c.betNumber&&(d.betNumber=b.assignmentDoorList(c.betNumber,d.betNumber)),a.RoomData.Instance.betData=d)},b.refrenshMeBetData=function(c){var d=a.RoomData.Instance.betMeData;null!=c&&null!=d&&(c.betDigit&&(d.betDigit.one=b.assignmentList(c.betDigit.one,d.betDigit.one),d.betDigit.ten=b.assignmentList(c.betDigit.ten,d.betDigit.ten),d.betDigit.hundred=b.assignmentList(c.betDigit.hundred,d.betDigit.hundred),d.betDigit.thousand=b.assignmentList(c.betDigit.thousand,d.betDigit.thousand)),c.betSum&&(d.betSum=b.assignmentDoorList(c.betSum,d.betSum)),c.betNumber&&(d.betNumber=b.assignmentDoorList(c.betNumber,d.betNumber)),a.RoomData.Instance.betMeData=d)},b.assignmentList=function(a,b){a=null!=a&&a instanceof Array?a:[];for(var c=0,d=a;c<d.length;c++){var e=d[c],f=b.first(function(a){return a.number==e.number});f&&(f.chips=e.chips)}return b},b.assignmentDoorList=function(a,b){a=null!=a&&a instanceof Array?a:[];for(var c=0,d=a;c<d.length;c++){var e=d[c],f=void 0;f=null==e.place?b.first(function(a){return a.doorId==e.doorId}):b.first(function(a){return a.doorId==e.doorId&&a.place==e.place}),f&&(f.chips=e.chips)}return b},b}();a.MessageHandle=b}(game||(game={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},game;!function(a){var b=function(b){function c(){b.call(this),a.PanelManage.addPanel(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)}return __extends(c,b),c.prototype.onAddToStage=function(){this.addUIListener&&this.addUIListener(),a.Language.open&&this.registerLanguage()},c.prototype.onRemoveFromStage=function(){this.removeUIListener()},c.prototype.destroy=function(){this.removeUIListener&&this.removeUIListener(),this.removeActionListener(),this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},c.prototype.addActionListener=function(){},c.prototype.removeActionListener=function(){},c.prototype.adaptationWidth=function(){this.width=uniLib.Global.screenWidth},c.prototype.adaptationHeight=function(){this.height=uniLib.Global.screenHeight},c.prototype.registerLanguage=function(){a.Language.TypeChanged.add(this.updataLanguage,this),a.Language.Type!=a.LanguageType.Chinese&&this.updataLanguage()},c.prototype.updataLanguage=function(){},c}(eui.Component);a.BaseUI=b}(game||(game={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},game;!function(a){var b=function(b){function c(){var a=this;b.call(this),this.exml='\n\t\t<?xml version=\'1.0\' encoding=\'utf-8\'?>\n\t\t<e:Skin class="LibTipsSkin" xmlns:e="http://ns.egret.com/eui" xmlns:w="http://ns.egret.com/wing" xmlns:game="game.*">\n\t\t\t<e:Group x="0" y="0">\n\t\t\t\t<e:Image id="bgImage" scaleX="1" scaleY="1" top="0" bottom="0" left="0" right="0"/>\n\t\t\t\t<e:Image id="wordImage" horizontalCenter="0" verticalCenter="0"/>\n\t\t\t\t<e:BitmapLabel id="bitmapLabel" horizontalCenter="125.5" verticalCenter="0.5" font="libNumberFort_fnt" text=""/>\n\t\t\t\t<e:Label id="msgLabel" size="25" textAlign="center" fontFamily="Microsoft YaHei" text="" textColor="0xffff99" verticalCenter="0"  horizontalCenter="0"/>\n\t\t\t</e:Group>\n\t\t</e:Skin>\n\t\t',this.skinName=this.exml,this.width=770,this.height=66,GX.ResManager.readCommon("common/LibTimeout.png",function(b){a.bgImage.texture=b},this)}return __extends(c,b),c.prototype.setBitmapLabel=function(a){var b=this;this.bitmapLabel.text=a,GX.ResManager.readCommon("common/libWordImage.png",function(a){b.wordImage.texture=a},this)},c.prototype.setLabel=function(a){this.msgLabel.text=a},c.prototype.close=function(){this.parent&&this.parent.removeChild(this),a.Timer.clearInterval(this.timer)},c}(eui.Component);a.BetTimeoutTipsPanel=b}(game||(game={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},game;!function(a){!function(a){a.Bright="bright",a.Scale="scale"}(a.UIInteractive||(a.UIInteractive={}))}(game||(game={}));var game;!function(a){var b=function(b){function c(){b.call(this),a.PanelManage.addPanel(this)}return __extends(c,b),c.prototype.destroy=function(){this.interactive_destroy()},Object.defineProperty(c.prototype,"interactive",{set:function(b){this.$interactive=b,b==a.UIInteractive.Bright||b==a.UIInteractive.Scale&&this.stage&&(0==this.anchorOffsetX&&(this.anchorOffsetX=this.width/2,this.x+=this.width/2),0==this.anchorOffsetY&&(this.anchorOffsetY=this.height/2,this.y+=this.height/2)),this.customUIInteractive()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"enabled",{get:function(){return this.$Component[3]},set:function(a){a=!!a,this.$setEnabled(a),0==a?this.interactive_changeStatus(new egret.TouchEvent("enabled")):this.interactive_changeStatus(new egret.TouchEvent("disable"))},enumerable:!0,configurable:!0}),c}(eui.Button);a.Button=b}(game||(game={})),eui.Component.prototype.customUIInteractive||(eui.Component.prototype.customUIInteractive=function(){this.addEventListener(egret.Event.ADDED_TO_STAGE,this.interactive_onAddToStage,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.interactive_onRemoveFromStage,this)}),eui.Component.prototype.interactive_onAddToStage||(eui.Component.prototype.interactive_onAddToStage=function(){this.interactive_addUIListener(),this.$interactive==game.UIInteractive.Scale&&(0==this.anchorOffsetX&&(this.anchorOffsetX=this.width/2,this.x+=this.width/2),0==this.anchorOffsetY&&(this.anchorOffsetY=this.height/2,this.y+=this.height/2))}),eui.Component.prototype.interactive_onRemoveFromStage||(eui.Component.prototype.interactive_onRemoveFromStage=function(){this.interactive_removeUIListener()}),eui.Component.prototype.interactive_destroy||(eui.Component.prototype.interactive_destroy=function(){this.interactive_removeUIListener(),this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.interactive_onAddToStage,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.interactive_onRemoveFromStage,this)}),eui.Component.prototype.interactive_addUIListener||(eui.Component.prototype.interactive_addUIListener=function(){this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.interactive_changeStatus,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.interactive_changeStatus,this),this.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.interactive_changeStatus,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.interactive_changeStatus,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.interactive_changeStatus,this)}),eui.Component.prototype.interactive_removeUIListener||(eui.Component.prototype.interactive_removeUIListener=function(){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.interactive_changeStatus,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.interactive_changeStatus,this),this.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.interactive_changeStatus,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.interactive_changeStatus,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.interactive_changeStatus,this)}),eui.Component.prototype.interactive_changeStatus||(eui.Component.prototype.interactive_changeStatus=function(a){var b=a.type;if("enabled"==b){var c=[.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0];return void(this.filters=[new egret.ColorMatrixFilter(c)])}if("disable"==b)return void(this.filters=[]);if(this.$interactive!=game.UIInteractive.Scale){var d,e;switch(b){case egret.TouchEvent.TOUCH_END:case egret.TouchEvent.TOUCH_RELEASE_OUTSIDE:case egret.TouchEvent.TOUCH_TAP:case egret.TouchEvent.TOUCH_CANCEL:e=null;break;case egret.TouchEvent.TOUCH_BEGIN:d=[1,0,0,0,51,0,1,0,0,224*.2,0,0,1,0,141*.2,0,0,0,1,0],e=new egret.ColorMatrixFilter(d);var f=game.Config.InteractiveSoundName;f&&""!=f&&uniLib.SoundMgr.instance.playSound(f)}this.filters=null==e?[]:[e]}else switch(b){case egret.TouchEvent.TOUCH_END:case egret.TouchEvent.TOUCH_RELEASE_OUTSIDE:case egret.TouchEvent.TOUCH_TAP:case egret.TouchEvent.TOUCH_CANCEL:this.scaleX=1,this.scaleY=1;break;case egret.TouchEvent.TOUCH_BEGIN:var f=game.Config.InteractiveSoundName;f&&""!=f&&uniLib.SoundMgr.instance.playSound(f),this.scaleX=.9,this.scaleY=.9}});var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},game;!function(a){var b=function(b){function c(){b.call(this),a.PanelManage.addPanel(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)}return __extends(c,b),c.prototype.onAddToStage=function(){this.addUIListener(),this.adaptationWidth(),a.Language.open&&this.registerLanguage()},c.prototype.onRemoveFromStage=function(){this.removeUIListener()},c.prototype.destroy=function(){this.removeUIListener(),this.removeActionListener(),this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},c.prototype.adaptationWidth=function(){this.width=uniLib.Global.screenWidth},c.prototype.registerLanguage=function(){a.Language.TypeChanged.add(this.updataLanguage,this),a.Language.Type!=a.LanguageType.Chinese&&this.updataLanguage()},c.prototype.updataLanguage=function(){},c.prototype.addActionListener=function(){},c.prototype.removeActionListener=function(){},c}(eui.Component);a.EuiPanel=b}(game||(game={}));var game;!function(a){var b=function(){function b(){this.m_buttonSkin='\n        <?xml version="1.0" encoding="utf-8"?>\n        <e:Skin class="LibFastSitDownSkin" xmlns:e="http://ns.egret.com/eui">\n            <e:Image  id="icon" x="0" y="0" source=""/>\n        </e:Skin>\n        ',this.m_tipsSkin='\n        <?xml version="1.0" encoding="utf-8"?>\n        <e:Skin class="LibFastSitDownTipsSkin" xmlns:e="http://ns.egret.com/eui"  width="885" height="124">\n            <e:Image  id="bg" x="0" y="0" source="" />\n            <e:Image  id="tips" source="" x="351" y="31"/>\n        </e:Skin>\n        ',a.RoomData.Instance.MainSeatChanged.add(this.mainSeatChanged,this)}return b.registerSkin=function(a,c,d){return this.quicklySitDown||(this.quicklySitDown=new b),this.quicklySitDown.buttonSkin(a,c,d),this.quicklySitDown.button},b.registerTipSkin=function(a,c,d){return this.quicklySitDown||(this.quicklySitDown=new b),this.quicklySitDown.tipsSkin(a,c,d),this.quicklySitDown.tips},b.destroy=function(){this.quicklySitDown&&(this.quicklySitDown.destroy(),this.quicklySitDown=null)},b.prototype.buttonSkin=function(b,c,d){if(this.button||(this.button=new eui.Component),this.button.skinName=b||this.m_buttonSkin,this.button.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTap,this),this.button.x=c||uniLib.Global.screenWidth/2+230,this.button.y=d||517,!b){var e=this.button.skin.icon;GX.ResManager.readCommon("common/Lib_fastsitdown.png",function(a){e.texture=a},this)}this.mainSeatChanged(a.PokerFunction.IsSitDownMain?a.USerSeatState.SitDown:a.USerSeatState.StandUp)},b.prototype.tipsSkin=function(b,c,d){if(this.button||(this.tips=new eui.Component),this.tips.skinName=b||this.m_tipsSkin,this.tips.x=c||(uniLib.Global.screenWidth-this.tips.width)/2,this.tips.y=d||487,!b){var e=this.tips.skin.bg,f=this.tips.skin.tips;GX.ResManager.readCommon("common/LibPleaseSitTipsBg.png",function(a){e.texture=a},this),GX.ResManager.readCommon("common/LibPleaseSit.png",function(a){f.texture=a},this)}this.mainSeatChanged(a.PokerFunction.IsSitDownMain?a.USerSeatState.SitDown:a.USerSeatState.StandUp)},b.prototype.destroy=function(){a.RoomData.Instance.MainSeatChanged.remove(this.mainSeatChanged,this),this.button&&(this.button.parent&&this.button.parent.removeChild(this.button),this.button.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTap,this)),this.tips&&this.tips.parent&&this.tips.parent.removeChild(this.tips)},Object.defineProperty(b.prototype,"buttonX",{set:function(a){this.button.x=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"buttonY",{set:function(a){this.button.y=a},enumerable:!0,configurable:!0}),b.prototype.mainSeatChanged=function(b){this.tips&&(this.tips.visible=b==a.USerSeatState.StandUp,GX.GameLayerManager.addUIToEffect(this.tips)),this.button&&(this.button.visible=b==a.USerSeatState.StandUp,GX.GameLayerManager.addUIToEffect(this.button))},b.prototype.onClickTap=function(){var a=new Cmd.SitDownCmd_CS;uniLib.NetMgr.tcpSend(a)},b}();a.FastSitDown=b}(game||(game={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},game;!function(a){var b=function(b){function c(){b.call(this),a.PanelManage.addPanel(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)}return __extends(c,b),c.prototype.onAddToStage=function(){this.addUIListener(),a.Language.open&&this.registerLanguage()},c.prototype.onRemoveFromStage=function(){this.removeUIListener()},c.prototype.destroy=function(){this.removeUIListener(),this.removeActionListener(),this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},c.prototype.adaptationWidth=function(){this.width=uniLib.Global.screenWidth},c.prototype.registerLanguage=function(){a.Language.TypeChanged.add(this.updataLanguage,this),a.Language.Type!=a.LanguageType.Chinese&&this.updataLanguage()},c.prototype.updataLanguage=function(){},c.prototype.addActionListener=function(){},c.prototype.removeActionListener=function(){},c}(egret.Sprite);a.GuiPanel=b}(game||(game={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},game;!function(a){var b=function(b){function c(){b.call(this),a.PanelManage.addPanel(this)}return __extends(c,b),c.prototype.destroy=function(){this.interactive_destroy()},Object.defineProperty(c.prototype,"interactive",{set:function(b){this.$interactive=b,b==a.UIInteractive.Bright||b==a.UIInteractive.Scale&&this.stage&&(0==this.anchorOffsetX&&(this.anchorOffsetX=this.width/2,this.x+=this.width/2),0==this.anchorOffsetY&&(this.anchorOffsetY=this.height/2,this.y+=this.height/2)),this.customUIInteractive()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"enabled",{get:function(){return this.$Component[3]},set:function(a){a=!!a,this.$setEnabled(a),0==a?this.interactive_changeStatus(new egret.TouchEvent("enabled")):this.interactive_changeStatus(new egret.TouchEvent("disable"))},enumerable:!0,configurable:!0}),c}(eui.ItemRenderer);a.ItemRenderer=b}(game||(game={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},game;!function(a){var b=function(b){function c(){b.call(this),this.mMinTime=2e3,this.mMaxTime=2e4,this.mMinTimeGold=200,this.mMaxTimeGold=3e3,this.mGoldTypeNumbers=[200,500,1e3,2e3],this.mGoldAnim=null,this.mEndLoadResourceCB=null,this.mGoldChangeAnim=null,this.mBreakPlayFlyAnim=!1,this.playGoldWinTypeAnimCB=null,this.playGoldWinTypeAnimTarget=null,this.mBigWinNumScaleChangeInterval=0,this.initUI(),this.LoadResource()}return __extends(c,b),Object.defineProperty(c,"Instance",{get:function(){return null==this.m_Instance&&(this.m_Instance=new c),this.m_Instance},enumerable:!0,configurable:!0}),c.clearInstance=function(){this.m_Instance=null},c.prototype.addUIListener=function(){this.mClickCloseRect.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onEffectPanelCloseRect,this)},c.prototype.removeUIListener=function(){this.mClickCloseRect.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onEffectPanelCloseRect,this)},c.prototype.LoadResource=function(){this.LoadDragonBoneAnimation()},c.prototype.initUI=function(){this.width=uniLib.Global.designWidth,this.height=uniLib.Global.designHeight;var a=EXML.parse(c.mGrayRectSkin);this.mGrayRect=new a,this.addChild(this.mGrayRect);var b=EXML.parse(c.mGoldAnimGroupSkin);this.mGoldAnimGroup=new b,this.addChild(this.mGoldAnimGroup);var d=EXML.parse(c.mGoldLabelSkin);this.mGoldLabel=new d,this.addChild(this.mGoldLabel);var e=EXML.parse(c.mClickCloseRectSkin);this.mClickCloseRect=new e,this.addChild(this.mClickCloseRect),this.mClickCloseRect.touchEnabled=!0,this.visible=!1},c.prototype.SetAnimMinMaxTime=function(a,b){this.mMinTime=a,this.mMaxTime=b},c.prototype.SetGoldChangeSound=function(a){c.mGoldSoundPath=a},c.prototype.SetWinTypeGolds=function(a){this.mGoldTypeNumbers.clear();for(var b=0;b<4&&b<a.length;b++)this.mGoldTypeNumbers.push(a[b]);a.length>0&&(this.mMinTimeGold=a[0],this.mMaxTimeGold=1.2*a[a.length-1])},c.prototype.PlayGoldEffect=function(a,b,c,d){if(void 0===b&&(b=null),void 0===c&&(c=null),void 0===d&&(d=0),d>0&&(this.mMaxTime=d),null==this.mGoldAnim){var e=this;this.mEndLoadResourceCB=function(){e.playGoldEffectImpl(a,d,b,c)}}else this.playGoldEffectImpl(a,d,b,c)},c.prototype.playGoldEffectImpl=function(b,d,e,f){var g=this;if(this.playGoldWinTypeAnimCB=e,this.playGoldWinTypeAnimTarget=f,this.mBreakPlayFlyAnim=!1,!(b<this.mGoldTypeNumbers[0])){this.visible=!0,this.mGoldLabel.scaleY=this.mGoldLabel.scaleX=1;for(var h=this.mGoldTypeNumbers,i=1,j=0;j<h.length;j++)if(b>=h[h.length-j-1]){i=h.length-j;break}this.mGoldLabel.scaleX=0,this.mGoldLabel.scaleY=0,this.playDragonAnimations(c.GoldAnimStartAction,c.GoldAnimTypeLoopActions[0]);var k=this.mGoldAnim.armature.getBone("bone3"),l=0,m=this,n=0;this.mGoldLabel.alpha=n;var o=function(){l+=.033,l>=1&&(a.Timer.clearInterval(m.mBigWinNumScaleChangeInterval),m.mBigWinNumScaleChangeInterval=0),m.mGoldLabel.scaleX=k.animationPose.scaleX,m.mGoldLabel.scaleY=k.animationPose.scaleY,n<1&&(n+=.1,n>1&&(n=1),g.mGoldLabel.alpha=n)};this.mBigWinNumScaleChangeInterval=a.Timer.setInterval(o,null,33);for(var p=[c.GoldAnimTypeLoopActions[1],c.GoldAnimTypeLoopActions[2],c.GoldAnimTypeLoopActions[3]],q=[],r=0,j=1;j<i;j++){var s=this.getHighGoldScrollTime(h[j-1]),t=this.getHighGoldScrollTime(h[j]),u=t;j>1&&(u=t-s),q.push([h[j-1],h[j],u]),r+=u}var v=this.getHighGoldScrollTime(h[i-1]),w=this.getHighGoldScrollTime(b),x=w;q.length>0&&(x=w-v),r+=x,q.push([h[i-1],b,x]);var y=0,z=function(){if(egret.log("enter playScrollNumber, scrollDatas.length:"+q.length),1!=m.mBreakPlayFlyAnim){if(0==q.length)return null!=m.playGoldWinTypeAnimCB&&(m.playGoldWinTypeAnimCB.call(m.playGoldWinTypeAnimTarget),m.playGoldWinTypeAnimCB=null,m.playGoldWinTypeAnimTarget=null),void(m.visible=!1);var a=y;y>0&&m.PlayLightEffect("showtext",function(){1!=m.mBreakPlayFlyAnim&&m.mGoldAnim.animation.play(p[a-1],0)}),egret.Tween.get(m.mGoldAnim,{}).to({scaleX:Math.pow(1.1,y),scaleY:Math.pow(1.1,y)},1e3,egret.Ease.getElasticOut(6,.5)),egret.Tween.get(m.mGoldLabel,{}).to({scaleX:Math.pow(1.1,y),scaleY:Math.pow(1.1,y)},1e3,egret.Ease.getElasticOut(6,.5));var b=q.shift();c.scrollNumber(m.mGoldLabel,b[0],b[1],b[2],z,!0),y+=1}};z()}},c.prototype.LoadDragonBoneAnimation=function(){var a=this;this.LoadDragonAnimFromUrl(c.GoldAnimPath,function(b){a.mGoldAnim=b,a.mGoldAnim.x=a.mGoldAnimGroup.width/2,a.mGoldAnim.y=a.mGoldAnimGroup.height/2,a.mGoldAnimGroup.addChild(a.mGoldAnim),egret.log("after load gold anim effect11")}),this.LoadDragonAnimFromUrl(c.GoldAnimTypeChangeAnimPath,function(b){a.mGoldChangeAnim=b,a.mGoldChangeAnim.x=a.mGoldAnimGroup.width/2,a.mGoldChangeAnim.y=a.mGoldAnimGroup.height/2,a.mGoldAnimGroup.addChild(a.mGoldChangeAnim),a.mGoldChangeAnim.visible=!1})},c.prototype.LoadDragonAnimFromUrl=function(a,b){var c=null,d=null,e=null,f=function(){if(null!=c&&null!=d&&null!=e){var f=new dragonBones.EgretFactory;f.parseDragonBonesData(c),f.parseTextureAtlasData(d,e);var g=f.buildArmatureDisplay("armatureName");egret.log("call after loadDragonAnimFromUrl, animPath:"+a),null!=b&&b.call(null,g)}};GX.ResManager.readCommon("common/zhaocaijinbao/"+a+"_ske.json",function(a,b){c=a,f()},null),GX.ResManager.readCommon("common/zhaocaijinbao/"+a+"_tex.json",function(a,b){d=a,f()},null),GX.ResManager.readCommon("common/zhaocaijinbao/"+a+"_tex.png",function(a,b){e=a,f()},null)},c.scrollNumber=function(b,d,e,f,g,h,i){if(void 0===g&&(g=null),void 0===h&&(h=!1),void 0===i&&(i=50),d==e)return egret.log("call scrollNumber, fromNum:"+d+" toNum:"+e+" is equal, exit.."),void(null!=g&&g.call(null));var j=b,k=0,l=f,m=0,n=d;j.text=n.toString();var o=function(){(k+=i)>l&&(k=l,a.Timer.clearInterval(m),m=0);var b=Math.floor(c.lerp(d,e,k/l));b!=n&&(n=b,j.text=n.toString()),1==h&&c.playGoldChangeSound(),0==m&&null!=g&&g.call(null)};egret.log("call ScrollNumber, onTick"),m=a.Timer.setInterval(o,null,i)},c.lerp=function(a,b,c){return a+(b-a)*c},c.playGoldChangeSound=function(){""!=c.mGoldSoundPath&&uniLib.SoundMgr.instance.playSound(c.mGoldSoundPath)},c.prototype.playDragonAnimations=function(a,b){var c=this,d=this,e=function(a){d.mGoldAnim.removeEventListener(dragonBones.EventObject.COMPLETE,e,null),c.mGoldAnim.animation.play(b,0)};this.mGoldAnim.addEventListener(dragonBones.EventObject.COMPLETE,e,null),this.mGoldAnim.animation.play(a,1)},c.prototype.getHighGoldScrollTime=function(a){var b=this.mMinTime,d=this.mMaxTime,e=this.mMinTimeGold,f=this.mMaxTimeGold;return a<e?b:Math.floor(c.lerp(b,d,(a-e)/(f-e)))},c.prototype.setCanTouchFinishAnim=function(a){this.mClickCloseRect.touchEnabled=a},c.prototype.onEffectPanelCloseRect=function(){egret.log("call onEffectPanelCloseRect"),this.mBreakPlayFlyAnim=!0,this.visible=!1,null!=this.playGoldWinTypeAnimCB&&(this.playGoldWinTypeAnimCB.call(this.playGoldWinTypeAnimTarget),this.playGoldWinTypeAnimCB=null,this.playGoldWinTypeAnimTarget=null)},c.prototype.PlayLightEffect=function(a,b,d){void 0===d&&(d=null);var e=this,f=function(a){e.mGoldChangeAnim.removeEventListener(dragonBones.EventObject.COMPLETE,f,null),null!=d&&d.call(null)},g=function(c){egret.log("Call KeyEvent, eventName:"+c.frameLabel),c.frameLabel==a&&null!=b&&b.call(null),e.mGoldChangeAnim.removeEventListener(dragonBones.FrameEvent.ANIMATION_FRAME_EVENT,g,null)};null!=b&&e.mGoldChangeAnim.addEventListener(dragonBones.FrameEvent.ANIMATION_FRAME_EVENT,g,null),e.mGoldChangeAnim.visible=!0,e.mGoldChangeAnim.addEventListener(dragonBones.EventObject.COMPLETE,f,null),e.mGoldChangeAnim.animation.play(c.GoldAnimTypeChangeAnimPathAction,1)},c.m_Instance=null,c.GoldAnimPath="LaPa_MFYX_Kuang_3307_spine",c.GoldAnimStartAction="BIGWIN_start",c.GoldAnimTypeLoopActions=["BIGWIN_loop","MEGAWIN_loop","HUFEWIN_loop","SUPERWIN_loop"],c.GoldAnimTypeChangeAnimPath="LaPa_MFYX_Guang_3307_spine",c.GoldAnimTypeChangeAnimPathAction="Guang_start",c.GoldAnimChangeEventName="showtext",c.mGoldSoundPath="",c.mGrayRectSkin='<e:Rect width="1280" height="720" x="0" y="0" fillAlpha="0.5" strokeColor="0x000000" strokeAlpha="0.5" touchEnabled="false"  xmlns:e="http://ns.egret.com/eui"></e:Rect>',c.mGoldLabelSkin='<e:Label id="goldNormalLabel" text="5000" x="635" y="348" textColor="0xfbf981"  strokeColor="0x000000" stroke="2"  size="50" fontFamily="SimHei" width="200" verticalAlign="middle" textAlign="center" anchorOffsetX="100" anchorOffsetY="-20"  xmlns:e="http://ns.egret.com/eui" ></e:Label>',c.mGoldAnimGroupSkin='<e:Group id="normalGoldFlyGroup" width="2" height="2" x="640" y="360"  xmlns:e="http://ns.egret.com/eui"></e:Group>',c.mClickCloseRectSkin='<e:Rect width="1280" height="720" x="0" y="0" fillAlpha="0" strokeColor="0x000000" touchEnabled="true"  xmlns:e="http://ns.egret.com/eui"></e:Rect>',c}(a.BaseUI);a.ObtainGoldEffect=b}(game||(game={}));var game;!function(a){var b=function(){function a(){}return a.addPanel=function(a){this.panelList.push(a)},a.destroyPanel=function(){for(var a=0,b=this.panelList;a<b.length;a++){b[a].destroy()}this.panelList.clear()},a.panelList=[],a}();a.PanelManage=b}(game||(game={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},game;!function(a){var b=function(b){function c(){b.call(this),this.colorList=[65280,16753920,14423100],this.pingGradient=[300,600],this.init(),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemove,this)}return __extends(c,b),Object.defineProperty(c,"instance",{get:function(){return this._instance||(this._instance=new c),this._instance},enumerable:!0,configurable:!0}),c.clearInstance=function(){this._instance&&(this._instance=null)},c.prototype.init=function(){this.width=uniLib.Global.screenWidth,this.height=uniLib.Global.screenHeight,this.pingText||(this.pingText=uniLib.DisplayUtils.createTextLabel(65280,egret.HorizontalAlign.CENTER,"45ms",20,200,30)),this.addChild(this.pingText),a.Timer.clearInterval(this.pingTimer),this.pingTimer=a.Timer.setInterval(this.updatePing,this,1500)},c.prototype.updatePing=function(){this.pingText&&(this.pingText.text=(uniLib.Global.lastPing?uniLib.Global.lastPing:45)+"ms"),uniLib.Global.lastPing>this.pingGradient[1]?this.pingText.textColor=this.colorList[2]:uniLib.Global.lastPing>this.pingGradient[0]?this.pingText.textColor=this.colorList[1]:this.pingText.textColor=this.colorList[0]},c.prototype.setPingPos=function(a,b){this.pingText&&(this.pingText.x=a,this.pingText.y=b)},c.prototype.setpingGradient=function(a){if(a instanceof Array&&a.length==this.pingGradient.length)for(var b=a.length,c=0;c<b;c++)this.pingGradient[c]=a[c]},c.prototype.setPingTextColorList=function(a){if(a instanceof Array&&a.length==this.colorList.length)for(var b=a.length,c=0;c<b;c++)this.colorList[c]=a[c]},c.prototype.onRemove=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemove,this),a.Timer.clearInterval(this.pingTimer),a.ResUtil.removeFromParent(this),a.ResUtil.removeAllChildren(this),this.pingText=null,c.clearInstance()},c}(egret.Sprite);a.Ping=b}(game||(game={})),table.TablePokerCard.instance=function(){return null==table.TablePokerCard.$instance&&(table.TablePokerCard.$instance=loadTable("TablePokerCard_json")),table.TablePokerCard.$instance},table.TablePokerCard.resNormal=function(a){var b=table.TablePokerCard.instance().first(function(b){return b.thisId==a});if(null==b)return"";var c=1==b.point?14:b.point;c=2==c?16:c;var d=game.DataCache.gameInfo;return d&&5106==d.gameId?"DL_Poker_"+b.suit+"_"+c.toString().padLeft(2,"0"):"Poker_"+b.suit+"_"+c.toString().padLeft(2,"0")},table.TablePokerCard.cardName=function(a){var b=table.TablePokerCard.instance().first(function(b){return b.thisId==a});return null==b?"":b.name};var table;!function(a){function b(){a.TablePokerCard.$instance=null}a.deleteCache=b}(table||(table={})),table.TableLobbyGameList.instance=function(){return null==table.TableLobbyGameList.$instance&&(table.TableLobbyGameList.$instance=loadTable("TableLobbyGameList_json")),table.TableLobbyGameList.$instance},table.TableLobbyGameList.getConfig=function(a){return table.TableLobbyGameList.instance().first(function(b){return b.id==a})},table.TableLobbyGameList.getLobbyConfig=function(){return table.TableLobbyGameList.getConfig(MJLobby.MJLobbyData.getInstance().lobbyId)},table.TableLobbyGameList.gameList=function(){return table.TableLobbyGameList.getLobbyConfig().mahjongList},table.TableCreateConfigList.instance=function(){return null==table.TableCreateConfigList.$instance&&(table.TableCreateConfigList.$instance=loadTable("TableCreateConfigList_json")),table.TableCreateConfigList.$instance},table.TableCreateConfigList.getConfig=function(a){return table.TableCreateConfigList.instance().first(function(b){return b.gameId==a})},table.TableExchangeConfig.instance=function(){return null==table.TableExchangeConfig.$instance&&(table.TableExchangeConfig.$instance=loadTable("TableExchangeConfig_json")),table.TableExchangeConfig.$instance},table.TableExchangeConfig.getConfig=function(a){return table.TableExchangeConfig.instance().filter(function(b){return b.id==a})},table.TableLanguage.instance=function(){return null==table.TableLanguage.$instance&&(table.TableLanguage.$instance=loadTable("TableLanguage_json")),table.TableLanguage.$instance},table.TableLanguage.chineseMap=function(){if(null==table.TableLanguage.$chineseMap){var a=table.TableLanguage.instance();if(null==a)return;for(var b={},c=0,d=a;c<d.length;c++){var e=d[c];b[e.chinese]=e}table.TableLanguage.$chineseMap=b}return table.TableLanguage.$chineseMap},table.TableLanguage.codeMap=function(){if(null==table.TableLanguage.$codeMap){var a=table.TableLanguage.instance();if(null==a)return;for(var b={},c=0,d=a;c<d.length;c++){var e=d[c];b[e.code]=e}table.TableLanguage.$codeMap=b}return table.TableLanguage.$codeMap},table.TableShopConfig.instance=function(){return null==table.TableShopConfig.$instance&&(table.TableShopConfig.$instance=loadTable("TableShopConfig_json")),table.TableShopConfig.$instance},table.TableShopConfig.getConfig=function(a){for(var b=table.TableShopConfig.instance(),c=0,d=b;c<d.length;c++){var e=d[c];if(e.goodId==a)return e}},table.TableGoodsConfig.instance=function(){return null==table.TableGoodsConfig.$instance&&(table.TableGoodsConfig.$instance=loadTable("TableGoodsConfig_json")),table.TableGoodsConfig.$instance},table.TableGoodsConfig.getConfig=function(a){return table.TableGoodsConfig.instance().first(function(b){return b.goodId==a})},table.TableRoomCostConfig.instance=function(){return null==table.TableRoomCostConfig.$instance&&(table.TableRoomCostConfig.$instance=loadTable("TableRoomCostConfig_json")),table.TableRoomCostConfig.$instance},table.TableRoomCostConfig.getConfig=function(a){return table.TableRoomCostConfig.instance().filter(function(b){return b.lobbyId==a})};